{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Button } from \"react-bootstrap\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { makeAndPushVCJolo } from \"../store\";\nimport isMobile from \"../helpers/isMobile\";\n\nvar IssueLinkedVCButton = /*#__PURE__*/function (_React$Component) {\n  _inherits(IssueLinkedVCButton, _React$Component);\n\n  var _super = _createSuper(IssueLinkedVCButton);\n\n  function IssueLinkedVCButton(props) {\n    var _this;\n\n    _classCallCheck(this, IssueLinkedVCButton);\n\n    _this = _super.call(this, props);\n    _this.dispatch = props.dispatch;\n    _this.session = props.session;\n    _this.hasRequiredAttributes = props.hasRequiredAttributes;\n    _this.vcIssuanceEndpoint = props.vcIssuanceEndpoint;\n    _this.vcType = props.vcType;\n    _this.click = _this.click.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(IssueLinkedVCButton, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {}\n  }, {\n    key: \"click\",\n    value: function click() {\n      var vcType = this.props.vcType;\n      console.log(\"issueLinkedVCButton:: click called with session id \" + this.props.uuid);\n      var url = this.props.baseUrl ? \"\".concat(this.props.baseUrl, \"seal/issueVC\") : \"/seal/issueVC\";\n      console.log(\"will send request for \".concat(url, \" type \").concat(vcType, \" isMobile \").concat(isMobile()));\n      this.props.sendVC(\"\".concat(url), this.props.userSelection, vcType, this.props.uuid, isMobile());\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(Button, {\n        variant: \"primary\",\n        disabled: !this.props.hasRequiredAttributes,\n        onClick: this.click\n      }, \"Issue\") // </Link>\n      ;\n    }\n  }]);\n\n  return IssueLinkedVCButton;\n}(React.Component);\n\nfunction mapStateToProps(state) {\n  return {\n    status: state.sessionStatus\n  };\n}\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    sendVC: function sendVC(url, userSelection, vcType, uuid, isMobile) {\n      console.log(\"issueVCButtonJOLO.js user mapDispatchToProps\");\n      console.log(userSelection);\n      dispatch(makeAndPushVCJolo(url, userSelection, vcType, uuid, isMobile));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(IssueLinkedVCButton);","map":{"version":3,"sources":["/home/ni/code/js/jolocom-seal-issuer/components/IssueLinkedVCButtonJolo.js"],"names":["Button","React","connect","makeAndPushVCJolo","isMobile","IssueLinkedVCButton","props","dispatch","session","hasRequiredAttributes","vcIssuanceEndpoint","vcType","click","bind","console","log","uuid","url","baseUrl","sendVC","userSelection","Component","mapStateToProps","state","status","sessionStatus","mapDispatchToProps"],"mappings":";;;;;;;;;;;;AAAA,SAASA,MAAT,QAAuB,iBAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,iBAAT,QAAkC,UAAlC;AACA,OAAOC,QAAP,MAAqB,qBAArB;;IAEMC,mB;;;;;AACJ,+BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;AACA,UAAKC,QAAL,GAAgBD,KAAK,CAACC,QAAtB;AACA,UAAKC,OAAL,GAAeF,KAAK,CAACE,OAArB;AACA,UAAKC,qBAAL,GAA6BH,KAAK,CAACG,qBAAnC;AACA,UAAKC,kBAAL,GAA0BJ,KAAK,CAACI,kBAAhC;AACA,UAAKC,MAAL,GAAaL,KAAK,CAACK,MAAnB;AACA,UAAKC,KAAL,GAAa,MAAKA,KAAL,CAAWC,IAAX,+BAAb;AAPiB;AAQlB;;;;WAED,6BAAoB,CAAE;;;WAEtB,iBAAQ;AACN,UAAMF,MAAM,GAAG,KAAKL,KAAL,CAAWK,MAA1B;AACAG,MAAAA,OAAO,CAACC,GAAR,CAAY,wDAAwD,KAAKT,KAAL,CAAWU,IAA/E;AACA,UAAIC,GAAG,GAAG,KAAKX,KAAL,CAAWY,OAAX,aACH,KAAKZ,KAAL,CAAWY,OADR,mCAAV;AAGAJ,MAAAA,OAAO,CAACC,GAAR,iCAC2BE,GAD3B,mBACuCN,MADvC,uBAC0DP,QAAQ,EADlE;AAGA,WAAKE,KAAL,CAAWa,MAAX,WAAqBF,GAArB,GAA4B,KAAKX,KAAL,CAAWc,aAAvC,EAAsDT,MAAtD,EAA8D,KAAKL,KAAL,CAAWU,IAAzE,EAA+EZ,QAAQ,EAAvF;AACD;;;WAED,kBAAS;AACP,aACE,MAAC,MAAD;AACE,QAAA,OAAO,EAAC,SADV;AAEE,QAAA,QAAQ,EAAE,CAAC,KAAKE,KAAL,CAAWG,qBAFxB;AAGE,QAAA,OAAO,EAAE,KAAKG;AAHhB,iBADF,CAQE;AARF;AAUD;;;;EApC+BX,KAAK,CAACoB,S;;AAuCxC,SAASC,eAAT,CAAyBC,KAAzB,EAAgC;AAC9B,SAAO;AACLC,IAAAA,MAAM,EAAED,KAAK,CAACE;AADT,GAAP;AAGD;;AAED,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAnB,QAAQ,EAAI;AACrC,SAAO;AACLY,IAAAA,MAAM,EAAE,gBAACF,GAAD,EAAMG,aAAN,EAAqBT,MAArB,EAA6BK,IAA7B,EAAmCZ,QAAnC,EAAgD;AACtDU,MAAAA,OAAO,CAACC,GAAR,CAAY,8CAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYK,aAAZ;AACAb,MAAAA,QAAQ,CAACJ,iBAAiB,CAACc,GAAD,EAAMG,aAAN,EAAqBT,MAArB,EAA6BK,IAA7B,EAAmCZ,QAAnC,CAAlB,CAAR;AACD;AALI,GAAP;AAOD,CARD;;AAUA,eAAeF,OAAO,CAACoB,eAAD,EAAkBI,kBAAlB,CAAP,CAA6CrB,mBAA7C,CAAf","sourcesContent":["import { Button } from \"react-bootstrap\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { makeAndPushVCJolo } from \"../store\";\nimport isMobile from \"../helpers/isMobile\";\n\nclass IssueLinkedVCButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.dispatch = props.dispatch;\n    this.session = props.session;\n    this.hasRequiredAttributes = props.hasRequiredAttributes;\n    this.vcIssuanceEndpoint = props.vcIssuanceEndpoint;\n    this.vcType= props.vcType\n    this.click = this.click.bind(this);\n  }\n\n  componentDidMount() {}\n\n  click() {\n    const vcType = this.props.vcType;\n    console.log(\"issueLinkedVCButton:: click called with session id \" + this.props.uuid)\n    let url = this.props.baseUrl\n      ? `${this.props.baseUrl}seal/issueVC`\n      : `/seal/issueVC`;\n    console.log(\n      `will send request for ${url} type ${vcType} isMobile ${isMobile()}`\n    );\n    this.props.sendVC(`${url}`, this.props.userSelection, vcType, this.props.uuid, isMobile());\n  }\n\n  render() {\n    return (\n      <Button\n        variant=\"primary\"\n        disabled={!this.props.hasRequiredAttributes}\n        onClick={this.click}\n      >\n        Issue\n      </Button>\n      // </Link>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    status: state.sessionStatus\n  };\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    sendVC: (url, userSelection, vcType, uuid, isMobile) => {\n      console.log(\"issueVCButtonJOLO.js user mapDispatchToProps\")\n      console.log(userSelection)\n      dispatch(makeAndPushVCJolo(url, userSelection, vcType, uuid, isMobile));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(IssueLinkedVCButton);\n"]},"metadata":{},"sourceType":"module"}