{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[26],{ejMs:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/issue_bk\",function(){return s(\"qYai\")}])},qYai:function(e,t,s){\"use strict\";s.r(t);var n=s(\"H+61\"),i=s(\"UlJF\"),r=s(\"+Css\"),o=s(\"7LId\"),a=s(\"VIvw\"),c=s(\"iHvq\"),p=s(\"q1tI\"),u=s.n(p),l=s(\"YFqc\"),h=s.n(l),f=s(\"/MKj\"),d=s(\"5Yp1\"),m=s(\"1E8m\"),v=s(\"jCsy\"),g=s(\"o3qh\"),b=s(\"BXF7\"),q=s(\"3Z9Z\"),y=s(\"JI6e\"),S=s(\"cWnB\"),w=s(\"aBEL\"),j=s(\"20a2\"),D=s.n(j),N=u.a.createElement;function _(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return Object(a.a)(this,s)}}s(\"6ivx\").message.util;var O=s(\"6ivx\").transport,R=function(e){Object(o.a)(s,e);var t=_(s);function s(e){var i;return Object(n.a)(this,s),(i=t.call(this,e)).dispatch=e.dispatch,i.isFetching=e.isFetching,i.sessionData=e.sessionData,i.userSelection=e.userSelection,i.endpoint=e.endpoint,i.requestVC=i.requestVC.bind(Object(r.a)(i)),i}return Object(i.a)(s,[{key:\"componentDidMount\",value:function(){this.props.userSelection.length>0&&this.requestVC()}},{key:\"requestVC\",value:function(){console.log(\"will request the creation of a requestVC\"),this.props.makeIssueRequest(\"\".concat(this.props.baseUrl,\"issueVCReq\"),this.props.userSelection,Object(w.a)())}},{key:\"render\",value:function(){var e;if(this.props.userSelection.length>0){if(this.props.vcSent&&(e=N(\"div\",{className:\"row\"},N(\"div\",{className:\"col\",style:{marginTop:\"3rem\",marginBottom:\"3rem\",textAlign:\"center\"}},N(\"img\",{alt:\"\",src:\"/finished.png\",style:{maxWidth:\"15rem\",display:\"block\",marginLeft:\"auto\",marginRight:\"auto\"}}),N(\"p\",null,\"The verifiable credential has been sent to your mobile phone succesfully!!\",N(\"br\",null),\"You should receive a notification, prompting you to store it, very soon!\")))),this.props.qrData&&Object(w.a)())O.url.send()(this.props.qrData),D.a.push(\"\".concat(this.props.baseUrl));if(this.props.qrData&&!this.props.vcSent){var t=this.props.baseUrl?\"\".concat(this.props.endpoint,\"/\").concat(this.props.baseUrl):this.props.endpoint;e=N(\"div\",null,N(m.a,{qrData:this.props.qrData,message:\"SEAL is requesting to connect your uPort wallet:\",permissions:[\"Push Notifications\"]}),N(g.a,{uuid:this.props.uuid,endpoint:t}))}return!this.props.isFetching||this.props.qrData||this.props.vcSent||(e=N(\"div\",{className:\"row\"},\"Generating QR code please wait\")),N(d.a,null,N(q.a,null,N(y.a,null,N(v.a,{steps:this.props.stepperSteps,activeNum:this.props.stepperSteps.length-1}))),e,N(\"div\",{className:\"col\"},N(h.a,{href:\"/\"},N(S.a,{variant:\"primary\",className:\"float-right\"},\"Home\"))))}return N(d.a,null,N(\"div\",{className:\"row\"},\"user made no selections!\"))}}]),s}(u.a.Component);t.default=Object(f.b)((function(e){return console.log(\"issue.js:: mapping state to props\"),console.log(e),{isFetching:e.fetching,qrData:e.qrData,uuid:e.uuid,sessionData:e.sessionData,userSelection:e.userSelection,vcSent:e.vcSent,stepperSteps:e.stepperSteps,endpoint:e.endpoint,baseUrl:e.baseUrl}}),(function(e){return{makeIssueRequest:function(t,s){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e(Object(b.m)(t,s,n))}}}))(R)}},[[\"ejMs\",0,2,11,1,3,4,5,6,7,8,9]]]);","map":{"version":3,"sources":["static/chunks/pages/issue_bk-12eceb537a2151a98ba1.js"],"names":["_N_E","window","push","ejMs","module","exports","__webpack_require__","__NEXT_P","qYai","__webpack_exports__","r","_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__","_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__","_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","react__WEBPACK_IMPORTED_MODULE_6__","react__WEBPACK_IMPORTED_MODULE_6___default","n","next_link__WEBPACK_IMPORTED_MODULE_7__","next_link__WEBPACK_IMPORTED_MODULE_7___default","react_redux__WEBPACK_IMPORTED_MODULE_8__","_components_Layout__WEBPACK_IMPORTED_MODULE_9__","_components_QrPrompt__WEBPACK_IMPORTED_MODULE_10__","_components_Stepper__WEBPACK_IMPORTED_MODULE_11__","_components_Sse__WEBPACK_IMPORTED_MODULE_12__","_store__WEBPACK_IMPORTED_MODULE_13__","react_bootstrap__WEBPACK_IMPORTED_MODULE_14__","react_bootstrap__WEBPACK_IMPORTED_MODULE_15__","react_bootstrap__WEBPACK_IMPORTED_MODULE_16__","_helpers_isMobile__WEBPACK_IMPORTED_MODULE_17__","next_router__WEBPACK_IMPORTED_MODULE_18__","next_router__WEBPACK_IMPORTED_MODULE_18___default","__jsx","a","createElement","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","prototype","toString","call","e","_isNativeReflectConstruct","result","Super","Object","NewTarget","this","constructor","arguments","apply","message","util","transport","Issue","_React$Component","_super","props","_this","dispatch","isFetching","sessionData","userSelection","endpoint","requestVC","bind","key","value","length","console","log","makeIssueRequest","concat","baseUrl","vcSent","className","style","marginTop","marginBottom","textAlign","alt","src","maxWidth","display","marginLeft","marginRight","qrData","url","send","urlTransport","sseEndpoint","permissions","uuid","steps","stepperSteps","activeNum","href","variant","Component","state","fetching","data","isMobile","undefined"],"mappings":"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"},"name":"static/chunks/pages/issue_bk-12eceb537a2151a98ba1.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[26],{\n\n/***/ \"ejMs\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/issue_bk\",\n      function () {\n        return __webpack_require__(\"qYai\");\n      }\n    ]);\n  \n\n/***/ }),\n\n/***/ \"qYai\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"H+61\");\n/* harmony import */ var _home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"UlJF\");\n/* harmony import */ var _home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"+Css\");\n/* harmony import */ var _home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"7LId\");\n/* harmony import */ var _home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"VIvw\");\n/* harmony import */ var _home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"iHvq\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"YFqc\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"/MKj\");\n/* harmony import */ var _components_Layout__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"5Yp1\");\n/* harmony import */ var _components_QrPrompt__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"1E8m\");\n/* harmony import */ var _components_Stepper__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"jCsy\");\n/* harmony import */ var _components_Sse__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"o3qh\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"BXF7\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"3Z9Z\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"JI6e\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"cWnB\");\n/* harmony import */ var _helpers_isMobile__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(\"aBEL\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_18__);\n\n\n\n\n\n\nvar __jsx = react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = Object(_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = Object(_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return Object(_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\n\n\nvar message = __webpack_require__(\"6ivx\").message.util;\n\nvar transport = __webpack_require__(\"6ivx\").transport;\n\n\n\n\n\n\nvar Issue = /*#__PURE__*/function (_React$Component) {\n  Object(_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(Issue, _React$Component);\n\n  var _super = _createSuper(Issue);\n\n  function Issue(props) {\n    var _this;\n\n    Object(_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(this, Issue);\n\n    _this = _super.call(this, props);\n    _this.dispatch = props.dispatch;\n    _this.isFetching = props.isFetching;\n    _this.sessionData = props.sessionData;\n    _this.userSelection = props.userSelection;\n    _this.endpoint = props.endpoint;\n    _this.requestVC = _this.requestVC.bind(Object(_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_this));\n    return _this;\n  }\n\n  Object(_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(Issue, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.userSelection.length > 0) {\n        this.requestVC();\n      }\n    }\n  }, {\n    key: \"requestVC\",\n    value: function requestVC() {\n      console.log(\"will request the creation of a requestVC\");\n      this.props.makeIssueRequest(\"\".concat(this.props.baseUrl, \"issueVCReq\"), this.props.userSelection, Object(_helpers_isMobile__WEBPACK_IMPORTED_MODULE_17__[/* default */ \"a\"])());\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var result;\n\n      if (this.props.userSelection.length > 0) {\n        if (this.props.vcSent) {\n          result = __jsx(\"div\", {\n            className: \"row\"\n          }, __jsx(\"div\", {\n            className: \"col\",\n            style: {\n              marginTop: \"3rem\",\n              marginBottom: \"3rem\",\n              textAlign: \"center\"\n            }\n          }, __jsx(\"img\", {\n            alt: \"\",\n            src: \"/finished.png\",\n            style: {\n              maxWidth: \"15rem\",\n              display: \"block\",\n              marginLeft: \"auto\",\n              marginRight: \"auto\"\n            }\n          }), __jsx(\"p\", null, \"The verifiable credential has been sent to your mobile phone succesfully!!\", __jsx(\"br\", null), \"You should receive a notification, prompting you to store it, very soon!\")));\n        }\n\n        if (this.props.qrData && Object(_helpers_isMobile__WEBPACK_IMPORTED_MODULE_17__[/* default */ \"a\"])()) {\n          var urlTransport = transport.url.send();\n          urlTransport(this.props.qrData); //TODO maybe add a check here with SSE if the \n          // user received the VC?\n\n          next_router__WEBPACK_IMPORTED_MODULE_18___default.a.push(\"\".concat(this.props.baseUrl));\n        }\n\n        if (this.props.qrData && !this.props.vcSent) {\n          var sseEndpoint = this.props.baseUrl ? \"\".concat(this.props.endpoint, \"/\").concat(this.props.baseUrl) : this.props.endpoint;\n          result = __jsx(\"div\", null, __jsx(_components_QrPrompt__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"], {\n            qrData: this.props.qrData,\n            message: \"SEAL is requesting to connect your uPort wallet:\",\n            permissions: [\"Push Notifications\"]\n          }), __jsx(_components_Sse__WEBPACK_IMPORTED_MODULE_12__[/* default */ \"a\"], {\n            uuid: this.props.uuid,\n            endpoint: sseEndpoint\n          }));\n        }\n\n        if (this.props.isFetching && !this.props.qrData && !this.props.vcSent) {\n          result = __jsx(\"div\", {\n            className: \"row\"\n          }, \"Generating QR code please wait\");\n        }\n\n        return __jsx(_components_Layout__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"], null, __jsx(react_bootstrap__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"], null, __jsx(react_bootstrap__WEBPACK_IMPORTED_MODULE_15__[/* default */ \"a\"], null, __jsx(_components_Stepper__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"], {\n          steps: this.props.stepperSteps,\n          activeNum: this.props.stepperSteps.length - 1\n        }))), result, __jsx(\"div\", {\n          className: \"col\"\n        }, __jsx(next_link__WEBPACK_IMPORTED_MODULE_7___default.a, {\n          href: \"/\"\n        }, __jsx(react_bootstrap__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"], {\n          variant: \"primary\",\n          className: \"float-right\"\n        }, \"Home\"))));\n      } else {\n        return __jsx(_components_Layout__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"], null, __jsx(\"div\", {\n          className: \"row\"\n        }, \"user made no selections!\"));\n      }\n    }\n  }]);\n\n  return Issue;\n}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component);\n\nfunction mapStateToProps(state) {\n  console.log(\"issue.js:: mapping state to props\");\n  console.log(state);\n  return {\n    isFetching: state.fetching,\n    qrData: state.qrData,\n    uuid: state.uuid,\n    // userEidas: state.userEidas, // the eIDAS attributes of the user\n    // userEduGain: state.userEduGain, // the eduGain attributes of the user\n    sessionData: state.sessionData,\n    userSelection: state.userSelection,\n    // the attributes selected by the user to be included in a VC,\n    vcSent: state.vcSent,\n    stepperSteps: state.stepperSteps,\n    endpoint: state.endpoint,\n    baseUrl: state.baseUrl\n  };\n}\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    makeIssueRequest: function makeIssueRequest(url, data) {\n      var isMobile = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      dispatch(Object(_store__WEBPACK_IMPORTED_MODULE_13__[/* requestVCgeneration */ \"m\"])(url, data, isMobile));\n    }\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_8__[/* connect */ \"b\"])(mapStateToProps, mapDispatchToProps)(Issue));\n\n/***/ })\n\n},[[\"ejMs\",0,2,11,1,3,4,5,6,7,8,9]]]);","inputSourceMap":{"version":3,"sources":["/home/ni/code/js/seal-issuer/node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?page=%2Fissue_bk&absolutePagePath=private-next-pages%2Fissue_bk.js!","/home/ni/code/js/seal-issuer/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/home/ni/code/js/seal-issuer/pages/issue_bk.js"],"names":[],"mappings":";;;;;;;AACA;AACA;AACA;AACA,eAAe,mBAAO,CAAC,MAAgC;AACvD;AACA;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoI;AACN;AACoB;AAC1B;AACkC;AACtB;AACpI,YAAY,4CAAK;;AAEjB,gCAAgC,6DAA6D,yCAAyC,aAAa,4JAAe,kBAAkB,iCAAiC,iBAAiB,4JAAe,mBAAmB,yDAAyD,EAAE,OAAO,uCAAuC,EAAE,QAAQ,uKAA0B,eAAe,GAAG;;AAEva,sCAAsC,wEAAwE,0CAA0C,8CAA8C,MAAM,wEAAwE,GAAG,aAAa,EAAE,YAAY,cAAc,EAAE;;AAExS;AACG;AACS;AACI;AACI;AACA;AACV;;AAEpC,cAAc,mBAAO,CAAC,MAAkB;;AAExC,gBAAgB,mBAAO,CAAC,MAAkB;;AAEK;AACI;AACR;AACV;;AAEjC;AACA,EAAE,sJAAS;;AAEX;;AAEA;AACA;;AAEA,IAAI,4JAAe;;AAEnB;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,mKAAsB;AACjE;AACA;;AAEA,EAAE,yJAAY;AACd;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,yGAAyG,0EAAQ;AACjH;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;;AAEA,iCAAiC,0EAAQ;AACzC;AACA,0CAA0C;AAC1C;;AAEA,UAAU,mDAAM;AAChB;;AAEA;AACA;AACA,4CAA4C,qEAAQ;AACpD;AACA;AACA;AACA,WAAW,SAAS,gEAAG;AACvB;AACA;AACA,WAAW;AACX;;AAEA;AACA;AACA;AACA,WAAW;AACX;;AAEA,qBAAqB,kEAAM,cAAc,gEAAG,cAAc,gEAAG,cAAc,oEAAS;AACpF;AACA;AACA,SAAS;AACT;AACA,SAAS,QAAQ,gDAAI;AACrB;AACA,SAAS,QAAQ,gEAAM;AACvB;AACA;AACA,SAAS;AACT,OAAO;AACP,qBAAqB,kEAAM;AAC3B;AACA,SAAS;AACT;AACA;AACA,GAAG;;AAEH;AACA,CAAC,CAAC,4CAAK;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,2EAAmB;AAClC;AACA;AACA;;AAEe,kIAAO,4CAA4C,E","file":"x","sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/issue_bk\",\n      function () {\n        return require(\"private-next-pages/issue_bk.js\");\n      }\n    ]);\n  ","import _classCallCheck from \"/home/ni/code/js/seal-issuer/node_modules/next/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/ni/code/js/seal-issuer/node_modules/next/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/home/ni/code/js/seal-issuer/node_modules/next/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/ni/code/js/seal-issuer/node_modules/next/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/home/ni/code/js/seal-issuer/node_modules/next/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/ni/code/js/seal-issuer/node_modules/next/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from \"react\";\nimport Link from \"next/link\";\nimport { connect } from \"react-redux\";\nimport Layout from \"../components/Layout\";\nimport QrPrompt from \"../components/QrPrompt\";\nimport MyStepper from \"../components/Stepper\";\nimport SSE from \"../components/Sse\";\n\nvar message = require(\"uport-transports\").message.util;\n\nvar transport = require(\"uport-transports\").transport;\n\nimport { requestVCgeneration } from \"../store\";\nimport { Button, Row, Col } from \"react-bootstrap\";\nimport isMobile from \"../helpers/isMobile\";\nimport Router from 'next/router';\n\nvar Issue = /*#__PURE__*/function (_React$Component) {\n  _inherits(Issue, _React$Component);\n\n  var _super = _createSuper(Issue);\n\n  function Issue(props) {\n    var _this;\n\n    _classCallCheck(this, Issue);\n\n    _this = _super.call(this, props);\n    _this.dispatch = props.dispatch;\n    _this.isFetching = props.isFetching;\n    _this.sessionData = props.sessionData;\n    _this.userSelection = props.userSelection;\n    _this.endpoint = props.endpoint;\n    _this.requestVC = _this.requestVC.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Issue, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.userSelection.length > 0) {\n        this.requestVC();\n      }\n    }\n  }, {\n    key: \"requestVC\",\n    value: function requestVC() {\n      console.log(\"will request the creation of a requestVC\");\n      this.props.makeIssueRequest(\"\".concat(this.props.baseUrl, \"issueVCReq\"), this.props.userSelection, isMobile());\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var result;\n\n      if (this.props.userSelection.length > 0) {\n        if (this.props.vcSent) {\n          result = __jsx(\"div\", {\n            className: \"row\"\n          }, __jsx(\"div\", {\n            className: \"col\",\n            style: {\n              marginTop: \"3rem\",\n              marginBottom: \"3rem\",\n              textAlign: \"center\"\n            }\n          }, __jsx(\"img\", {\n            alt: \"\",\n            src: \"/finished.png\",\n            style: {\n              maxWidth: \"15rem\",\n              display: \"block\",\n              marginLeft: \"auto\",\n              marginRight: \"auto\"\n            }\n          }), __jsx(\"p\", null, \"The verifiable credential has been sent to your mobile phone succesfully!!\", __jsx(\"br\", null), \"You should receive a notification, prompting you to store it, very soon!\")));\n        }\n\n        if (this.props.qrData && isMobile()) {\n          var urlTransport = transport.url.send();\n          urlTransport(this.props.qrData); //TODO maybe add a check here with SSE if the \n          // user received the VC?\n\n          Router.push(\"\".concat(this.props.baseUrl));\n        }\n\n        if (this.props.qrData && !this.props.vcSent) {\n          var sseEndpoint = this.props.baseUrl ? \"\".concat(this.props.endpoint, \"/\").concat(this.props.baseUrl) : this.props.endpoint;\n          result = __jsx(\"div\", null, __jsx(QrPrompt, {\n            qrData: this.props.qrData,\n            message: \"SEAL is requesting to connect your uPort wallet:\",\n            permissions: [\"Push Notifications\"]\n          }), __jsx(SSE, {\n            uuid: this.props.uuid,\n            endpoint: sseEndpoint\n          }));\n        }\n\n        if (this.props.isFetching && !this.props.qrData && !this.props.vcSent) {\n          result = __jsx(\"div\", {\n            className: \"row\"\n          }, \"Generating QR code please wait\");\n        }\n\n        return __jsx(Layout, null, __jsx(Row, null, __jsx(Col, null, __jsx(MyStepper, {\n          steps: this.props.stepperSteps,\n          activeNum: this.props.stepperSteps.length - 1\n        }))), result, __jsx(\"div\", {\n          className: \"col\"\n        }, __jsx(Link, {\n          href: \"/\"\n        }, __jsx(Button, {\n          variant: \"primary\",\n          className: \"float-right\"\n        }, \"Home\"))));\n      } else {\n        return __jsx(Layout, null, __jsx(\"div\", {\n          className: \"row\"\n        }, \"user made no selections!\"));\n      }\n    }\n  }]);\n\n  return Issue;\n}(React.Component);\n\nfunction mapStateToProps(state) {\n  console.log(\"issue.js:: mapping state to props\");\n  console.log(state);\n  return {\n    isFetching: state.fetching,\n    qrData: state.qrData,\n    uuid: state.uuid,\n    // userEidas: state.userEidas, // the eIDAS attributes of the user\n    // userEduGain: state.userEduGain, // the eduGain attributes of the user\n    sessionData: state.sessionData,\n    userSelection: state.userSelection,\n    // the attributes selected by the user to be included in a VC,\n    vcSent: state.vcSent,\n    stepperSteps: state.stepperSteps,\n    endpoint: state.endpoint,\n    baseUrl: state.baseUrl\n  };\n}\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    makeIssueRequest: function makeIssueRequest(url, data) {\n      var isMobile = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      dispatch(requestVCgeneration(url, data, isMobile));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Issue);"]}}