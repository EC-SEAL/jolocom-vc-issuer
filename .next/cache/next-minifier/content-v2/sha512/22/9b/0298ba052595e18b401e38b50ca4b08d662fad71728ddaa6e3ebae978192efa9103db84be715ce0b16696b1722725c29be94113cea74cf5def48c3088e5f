{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[29],{\"/3fj\":function(e,t,n){\"use strict\";n.r(t);var s=n(\"vJKn\"),r=n.n(s),a=n(\"rg98\"),o=n(\"H+61\"),i=n(\"UlJF\"),c=n(\"7LId\"),u=n(\"VIvw\"),l=n(\"iHvq\"),p=n(\"q1tI\"),d=n.n(p),f=(n(\"vDqi\"),n(\"BXF7\")),v=n(\"5Yp1\"),h=n(\"/MKj\"),b=n(\"3Z9Z\"),m=n(\"JI6e\"),S=n(\"jCsy\"),g=n(\"uY6F\"),y=(n(\"GTdM\"),n(\"trcu\")),j=d.a.createElement;function D(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,s=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;n=Reflect.construct(s,arguments,r)}else n=s.apply(this,arguments);return Object(u.a)(this,n)}}var O=function(e){Object(c.a)(n,e);var t=D(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).dispatch=e.dispatch,s.isFetching=e.isFetching,s.sessionData=e.sessionData,s}return Object(i.a)(n,[{key:\"componentDidMount\",value:function(){this.props.makeConnectionRequest(this.props.sealSession,this.props.baseUrl)}},{key:\"componentDidUpdate\",value:function(){this.props.DID&&(window.location.href=this.props.callback)}},{key:\"render\",value:function(){var e=j(y.a,{qrData:this.props.qrData,DID:this.props.DID,baseUrl:this.props.baseUrl,uuid:this.props.sealSession,card:j(\"dib\",null,\"DID authentication completed successfully\"),vcSent:this.props.vcSent,sealSession:this.props.sealSession,serverSessionId:this.props.serverSessionId});return j(v.a,null,j(b.a,null,j(m.a,null,j(S.a,{steps:[{title:\"Pair your wallet\"}],activeNum:1}))),e,j(b.a,null,j(g.a,{baseUrl:this.props.baseUrl})))}}],[{key:\"getInitialProps\",value:function(){var e=Object(a.a)(r.a.mark((function e(t){var n,s,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.reduxStore,t.req,s=n.getState().sealSession,a=n.getState().callback,n.dispatch(Object(f.t)(s)),n.dispatch(Object(f.n)(a)),e.abrupt(\"return\",{qrData:n.getState().qrData,sealSession:n.getState().sealSession,callback:n.getState().callback});case 5:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(d.a.Component);t.default=Object(h.b)((function(e){return{isFetching:e.fetching,qrData:e.qrData,baseUrl:e.baseUrl,DID:e.DID,sealSession:e.sealSession,callback:e.didAuthCallback,serverSessionId:e.serverSessionId}}),(function(e){return{setSteps:function(t){e(setStepperSteps(t))},makeConnectionRequest:function(t,n){e(Object(f.i)(t,n))},didAuthOK:function(t){e(completeDIDAuth(t))},setCallback:function(t){e(Object(f.n)(t))},setSealSession:function(t){e(Object(f.t)(t))}}}))(O)},\"1E8m\":function(e,t,n){\"use strict\";var s=n(\"MX0m\"),r=n.n(s),a=n(\"q1tI\"),o=n.n(a),i=n(\"7vrA\"),c=n(\"3Z9Z\"),u=n(\"JI6e\"),l=n(\"MBJH\"),p=(n(\"1VsM\"),o.a.createElement);t.a=function(e){var t=0,n=e.permissions.map((function(e){return t++,p(\"tr\",{key:t},p(\"td\",null,t),p(\"td\",null,e))}));return p(i.a,{style:{marginTop:\"3rem\"}},p(c.a,{className:\"box-fill-v\"},p(u.a,null,p(i.a,null,p(c.a,null,p(u.a,null,p(\"p\",{id:\"uPortMessage\",className:\"jsx-3175251106\"},\"Scan the QR code with your uPort Wallet to access the service\"),p(r.a,{id:\"3175251106\"},[\"#uPortMessage.jsx-3175251106{margin-top:2em;}\"]))),p(c.a,null,p(u.a,null,p(\"img\",{className:\"img-fluid\",src:e.qrData}))),p(c.a,null,\"Do not have the uPort app yet? Download it form your prefered app store\"),p(c.a,null,p(u.a,null,p(\"a\",{href:\"https://apps.apple.com/us/app/uport-id/id1123434510\",target:\"_blank\",className:\"w-inline-block\"},p(\"img\",{className:\"img-fluid\",src:e.baseUrl?\"\".concat(e.baseUrl,\"app-store.png\"):\"/app-store.png\"}))),p(u.a,null,p(\"a\",{href:\"https://play.google.com/store/apps/details?id=com.uportMobile&hl=en\",target:\"_blank\",className:\"w-inline-block\"},p(\"img\",{className:\"img-fluid\",src:e.baseUrl?\"\".concat(e.baseUrl,\"play-store.png\"):\"/play-store.png\"})))))),p(u.a,{className:\"border-left border-primary\"},p(i.a,null,p(c.a,null,p(\"p\",{id:\"uPortMessage\",className:\"jsx-402463621\"},e.message),p(r.a,{id:\"402463621\"},[\"#uPortMessage.jsx-402463621{margin-top:2em;}\"])),p(c.a,null,p(l.a,{striped:!0,bordered:!0,hover:!0},p(\"thead\",null,p(\"tr\",null,p(\"th\",null,\"#\"),p(\"th\",null,\"Requested Permission\"))),p(\"tbody\",null,n)))))))}},\"7KCE\":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/vc/didAuth\",function(){return n(\"/3fj\")}])},GTdM:function(e,t,n){\"use strict\";var s=n(\"H+61\"),r=n(\"UlJF\"),a=n(\"+Css\"),o=n(\"7LId\"),i=n(\"VIvw\"),c=n(\"iHvq\"),u=n(\"cWnB\"),l=n(\"q1tI\"),p=n.n(l),d=n(\"/MKj\"),f=n(\"BXF7\"),v=n(\"aBEL\"),h=p.a.createElement;function b(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,s=Object(c.a)(e);if(t){var r=Object(c.a)(this).constructor;n=Reflect.construct(s,arguments,r)}else n=s.apply(this,arguments);return Object(i.a)(this,n)}}var m=function(e){Object(o.a)(n,e);var t=b(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).dispatch=e.dispatch,r.session=e.session,r.hasRequiredAttributes=e.hasRequiredAttributes,r.vcIssuanceEndpoint=e.vcIssuanceEndpoint,r.vcType=e.vcType,r.click=r.click.bind(Object(a.a)(r)),r}return Object(r.a)(n,[{key:\"componentDidMount\",value:function(){}},{key:\"click\",value:function(){var e=this.props.vcType;console.log(\"issueVCButton:: click called with \"+this.props.uuid);var t=this.props.baseUrl?\"\".concat(this.props.baseUrl,\"seal/issueVC\"):\"/seal/issueVC\";console.log(\"will send request for \".concat(t,\" with \").concat(this.props.userSelection,\", ty[e \").concat(e,\" isMobile \").concat(Object(v.a)())),this.props.sendVC(\"\".concat(t),this.props.userSelection,e,this.props.uuid,Object(v.a)())}},{key:\"render\",value:function(){return h(u.a,{variant:\"primary\",disabled:!this.props.hasRequiredAttributes,onClick:this.click},\"Issue Verifiable Claim\")}}]),n}(p.a.Component);t.a=Object(d.b)((function(e){return{status:e.sessionStatus}}),(function(e){return{sendVC:function(t,n,s,r,a){e(Object(f.h)(t,n,s,r,a))}}}))(m)},MBJH:function(e,t,n){\"use strict\";var s=n(\"wx14\"),r=n(\"zLVn\"),a=n(\"TSYQ\"),o=n.n(a),i=n(\"q1tI\"),c=n.n(i),u=n(\"vUet\"),l=c.a.forwardRef((function(e,t){var n=e.bsPrefix,a=e.className,i=e.striped,l=e.bordered,p=e.borderless,d=e.hover,f=e.size,v=e.variant,h=e.responsive,b=Object(r.a)(e,[\"bsPrefix\",\"className\",\"striped\",\"bordered\",\"borderless\",\"hover\",\"size\",\"variant\",\"responsive\"]),m=Object(u.a)(n,\"table\"),S=o()(a,m,v&&m+\"-\"+v,f&&m+\"-\"+f,i&&m+\"-striped\",l&&m+\"-bordered\",p&&m+\"-borderless\",d&&m+\"-hover\"),g=c.a.createElement(\"table\",Object(s.a)({},b,{className:S,ref:t}));if(h){var y=m+\"-responsive\";return\"string\"===typeof h&&(y=y+\"-\"+h),c.a.createElement(\"div\",{className:y},g)}return g}));t.a=l},o3qh:function(e,t,n){\"use strict\";var s=n(\"H+61\"),r=n(\"UlJF\"),a=n(\"7LId\"),o=n(\"VIvw\"),i=n(\"iHvq\"),c=n(\"q1tI\"),u=n.n(c),l=n(\"/MKj\"),p=n(\"BXF7\"),d=u.a.createElement;function f(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,s=Object(i.a)(e);if(t){var r=Object(i.a)(this).constructor;n=Reflect.construct(s,arguments,r)}else n=s.apply(this,arguments);return Object(o.a)(this,n)}}var v=function(e){Object(a.a)(n,e);var t=f(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).dispatch=e.dispatch,r.session=e.session,r}return Object(r.a)(n,[{key:\"componentDidMount\",value:function(){var e=this;this.eventSource=new EventSource(\"/events\"),this.eventSource.addEventListener(\"event\",(function(t){var n=JSON.parse(t.data),s=JSON.parse(n);if(console.log(s),s.sessionId&&e.props.serverSessionId&&(console.log(\"SSE.js -- componentDidMount:: got \".concat(s.sessionId,\" and the current session id is \").concat(e.props.serverSessionId)),s.sessionId===e.props.serverSessionId&&(console.log(\"SSE.js -- componentDidMount:: sessionsMatch!!\"),console.log(\"SSE.js -- componentDidMount:: uuid: \".concat(s.uuid)),e.props.didAuthOK(s.uuid,e.props.sealSession))),e.props.uuid)if(console.log(\"SSE.js:: found uuid \".concat(e.props.uuid)),console.log(\"SSE.js:: sent status \".concat(s.status)),e.props.uuid===s.uuid)switch(s.status){case\"sent\":return console.log(\"SSE.js:: VC sent to user\"),e.props.vcSent(),\"\";default:console.log(\"SSE.js:: default\")}else console.log(\"SSE.js:: the uuid is about \".concat(s.uuid,\" but i have \").concat(e.props.uuid));else console.log(\" no active session found!\")}),!1)}},{key:\"render\",value:function(){return d(\"div\",null)}}]),n}(u.a.Component);t.a=Object(l.b)((function(e){return{session:e.serverSession,status:e.sessionStatus}}),(function(e){return{vcSent:function(){e(Object(p.x)())},didAuthOK:function(t,n){e(Object(p.c)(t,n))}}}))(v)},rg98:function(e,t,n){\"use strict\";function s(e,t,n,s,r,a,o){try{var i=e[a](o),c=i.value}catch(u){return void n(u)}i.done?t(c):Promise.resolve(c).then(s,r)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,c,\"next\",e)}function c(e){s(o,r,a,i,c,\"throw\",e)}i(void 0)}))}}n.d(t,\"a\",(function(){return r}))},trcu:function(e,t,n){\"use strict\";var s=n(\"q1tI\"),r=n.n(s),a=n(\"1E8m\"),o=n(\"o3qh\"),i=r.a.createElement;t.a=function(e){var t=i(\"div\",{className:\"row\"},i(\"div\",{className:\"col\",style:{marginTop:\"3rem\",marginBottom:\"3rem\",textAlign:\"center\"}},i(\"img\",{alt:\"\",src:\"/finished.png\",style:{maxWidth:\"15rem\",display:\"block\",marginLeft:\"auto\",marginRight:\"auto\"}}),i(\"p\",null,\"The verifiable credential has been sent to your mobile phone succesfully!\",i(\"br\",null),\"You should receive a notification, prompting you to store it, very soon. Please check your wallet notifications\")));if(e.vcSent)return t;if(e.qrData&&!e.DID){var n=e.baseUrl?\"\".concat(e.endpoint,\"/\").concat(e.baseUrl):e.endpoint;return i(\"div\",null,i(a.a,{qrData:e.qrData,message:\"SEAL is requesting to connect your uPort wallet:\",permissions:[\"Push Notifications\"],baseUrl:e.baseUrl}),i(o.a,{uuid:e.uuid,endpoint:n,serverSessionId:e.serverSessionId,sealSession:e.sealSession}))}return e.DID?e.card:i(\"div\",null,\"Generating Wallet Pairing Request...\")}},uY6F:function(e,t,n){\"use strict\";var s=n(\"q1tI\"),r=n.n(s),a=n(\"YFqc\"),o=n.n(a),i=n(\"cWnB\"),c=r.a.createElement;t.a=function(e){return c(\"div\",{className:\"col\",style:{marginTop:\"1.5rem\"}},c(o.a,{href:e.baseUrl?\"\".concat(e.baseUrl):\"/\"},c(i.a,{variant:\"primary\",className:\"float-right\"},\"Home\")))}}},[[\"7KCE\",0,2,1,3,4,5,6,7]]]);","map":{"version":3,"sources":["static/chunks/pages/vc/didAuth-34672af3e585f7d0c6df.js"],"names":["_N_E","window","push","/3fj","module","__webpack_exports__","__webpack_require__","r","_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__","_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","n","_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__","_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__","_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__","react__WEBPACK_IMPORTED_MODULE_7__","react__WEBPACK_IMPORTED_MODULE_7___default","_store__WEBPACK_IMPORTED_MODULE_9__","_components_Layout__WEBPACK_IMPORTED_MODULE_10__","react_redux__WEBPACK_IMPORTED_MODULE_11__","react_bootstrap__WEBPACK_IMPORTED_MODULE_12__","react_bootstrap__WEBPACK_IMPORTED_MODULE_13__","_components_Stepper__WEBPACK_IMPORTED_MODULE_14__","_components_HomeButton__WEBPACK_IMPORTED_MODULE_15__","_components_PairOrCard__WEBPACK_IMPORTED_MODULE_17__","__jsx","a","createElement","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","prototype","toString","call","e","_isNativeReflectConstruct","result","Super","Object","NewTarget","this","constructor","arguments","apply","DisplayDidAuth","_React$Component","_super","props","_this","dispatch","isFetching","sessionData","key","value","makeConnectionRequest","sealSession","baseUrl","DID","location","href","callback","qrData","uuid","card","vcSent","serverSessionId","steps","title","activeNum","_getInitialProps","mark","_callee","_ref","reduxStore","wrap","_context","prev","next","req","getState","abrupt","stop","_x","Component","state","fetching","didAuthCallback","setSteps","setStepperSteps","didAuthOK","completeDIDAuth","setCallback","setSealSession","session","1E8m","styled_jsx_style__WEBPACK_IMPORTED_MODULE_0__","styled_jsx_style__WEBPACK_IMPORTED_MODULE_0___default","react__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_1___default","react_bootstrap__WEBPACK_IMPORTED_MODULE_2__","react_bootstrap__WEBPACK_IMPORTED_MODULE_3__","react_bootstrap__WEBPACK_IMPORTED_MODULE_4__","react_bootstrap__WEBPACK_IMPORTED_MODULE_5__","index","permissions","map","permission","style","marginTop","className","id","src","target","concat","message","striped","bordered","hover","7KCE","exports","__NEXT_P","GTdM","_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__","_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__","_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","react_bootstrap__WEBPACK_IMPORTED_MODULE_6__","react_redux__WEBPACK_IMPORTED_MODULE_8__","_helpers_isMobile__WEBPACK_IMPORTED_MODULE_10__","IssueVCButton","hasRequiredAttributes","vcIssuanceEndpoint","vcType","click","bind","console","log","url","userSelection","sendVC","variant","disabled","onClick","status","sessionStatus","isMobile","MBJH","_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__","_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1__","classnames__WEBPACK_IMPORTED_MODULE_2__","classnames__WEBPACK_IMPORTED_MODULE_2___default","react__WEBPACK_IMPORTED_MODULE_3__","react__WEBPACK_IMPORTED_MODULE_3___default","_ThemeProvider__WEBPACK_IMPORTED_MODULE_4__","Table","forwardRef","ref","bsPrefix","borderless","size","responsive","decoratedBsPrefix","classes","table","responsiveClass","o3qh","_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__","_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","react__WEBPACK_IMPORTED_MODULE_5__","react__WEBPACK_IMPORTED_MODULE_5___default","react_redux__WEBPACK_IMPORTED_MODULE_6__","_store__WEBPACK_IMPORTED_MODULE_7__","SSE","_this2","eventSource","EventSource","addEventListener","evt","data","JSON","parse","eventData","sessionId","serverSession","rg98","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","_asyncToGenerator","fn","self","args","err","undefined","d","trcu","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","_QrPrompt__WEBPACK_IMPORTED_MODULE_1__","_Sse_js__WEBPACK_IMPORTED_MODULE_2__","vcSentToUser","marginBottom","textAlign","alt","maxWidth","display","marginLeft","marginRight","sseEndpoint","endpoint","uY6F","next_link__WEBPACK_IMPORTED_MODULE_1__","next_link__WEBPACK_IMPORTED_MODULE_1___default"],"mappings":"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"},"name":"static/chunks/pages/vc/didAuth-34672af3e585f7d0c6df.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[29],{\n\n/***/ \"/3fj\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"vJKn\");\n/* harmony import */ var _home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"rg98\");\n/* harmony import */ var _home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"H+61\");\n/* harmony import */ var _home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"UlJF\");\n/* harmony import */ var _home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"7LId\");\n/* harmony import */ var _home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"VIvw\");\n/* harmony import */ var _home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"iHvq\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"vDqi\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"BXF7\");\n/* harmony import */ var _components_Layout__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"5Yp1\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"/MKj\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"3Z9Z\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"JI6e\");\n/* harmony import */ var _components_Stepper__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"jCsy\");\n/* harmony import */ var _components_HomeButton__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"uY6F\");\n/* harmony import */ var _components_IssueVCButton__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"GTdM\");\n/* harmony import */ var _components_PairOrCard__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(\"trcu\");\n\n\n\n\n\n\n\nvar __jsx = react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = Object(_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = Object(_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return Object(_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\n\n\n\n\n\nvar DisplayDidAuth = /*#__PURE__*/function (_React$Component) {\n  Object(_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"])(DisplayDidAuth, _React$Component);\n\n  var _super = _createSuper(DisplayDidAuth);\n\n  function DisplayDidAuth(props) {\n    var _this;\n\n    Object(_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(this, DisplayDidAuth);\n\n    _this = _super.call(this, props);\n    _this.dispatch = props.dispatch;\n    _this.isFetching = props.isFetching;\n    _this.sessionData = props.sessionData;\n    return _this;\n  }\n\n  Object(_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(DisplayDidAuth, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // generated the connectionRequest\n      this.props.makeConnectionRequest(this.props.sealSession, this.props.baseUrl);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (this.props.DID) {\n        //if DID auth is completed\n        // redirect to the callbackAddress\n        window.location.href = this.props.callback;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var stepperSteps = [{\n        title: \"Pair your wallet\"\n      }];\n\n      var result = __jsx(_components_PairOrCard__WEBPACK_IMPORTED_MODULE_17__[/* default */ \"a\"], {\n        qrData: this.props.qrData,\n        DID: this.props.DID,\n        baseUrl: this.props.baseUrl,\n        uuid: this.props.sealSession,\n        card: __jsx(\"dib\", null, \"DID authentication completed successfully\"),\n        vcSent: this.props.vcSent,\n        sealSession: this.props.sealSession,\n        serverSessionId: this.props.serverSessionId\n      });\n\n      return __jsx(_components_Layout__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"], null, __jsx(react_bootstrap__WEBPACK_IMPORTED_MODULE_12__[/* default */ \"a\"], null, __jsx(react_bootstrap__WEBPACK_IMPORTED_MODULE_13__[/* default */ \"a\"], null, __jsx(_components_Stepper__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"], {\n        steps: stepperSteps,\n        activeNum: 1\n      }))), result, __jsx(react_bootstrap__WEBPACK_IMPORTED_MODULE_12__[/* default */ \"a\"], null, __jsx(_components_HomeButton__WEBPACK_IMPORTED_MODULE_15__[/* default */ \"a\"], {\n        baseUrl: this.props.baseUrl\n      })));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = Object(_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(_ref) {\n        var reduxStore, req, sealSession, callback, baseUrl;\n        return _home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                reduxStore = _ref.reduxStore, req = _ref.req;\n\n                if (false) {} else {\n                  sealSession = reduxStore.getState().sealSession;\n                  callback = reduxStore.getState().callback;\n                }\n\n                reduxStore.dispatch(Object(_store__WEBPACK_IMPORTED_MODULE_9__[/* setSealSession */ \"t\"])(sealSession));\n                reduxStore.dispatch(Object(_store__WEBPACK_IMPORTED_MODULE_9__[/* setDidCallback */ \"n\"])(callback));\n                return _context.abrupt(\"return\", {\n                  qrData: reduxStore.getState().qrData,\n                  sealSession: reduxStore.getState().sealSession,\n                  callback: reduxStore.getState().callback\n                });\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getInitialProps(_x) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return DisplayDidAuth;\n}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component);\n\nfunction mapStateToProps(state) {\n  return {\n    isFetching: state.fetching,\n    qrData: state.qrData,\n    baseUrl: state.baseUrl,\n    DID: state.DID,\n    sealSession: state.sealSession,\n    callback: state.didAuthCallback,\n    serverSessionId: state.serverSessionId\n  };\n}\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    setSteps: function setSteps(steps) {\n      dispatch(setStepperSteps(steps));\n    },\n    makeConnectionRequest: function makeConnectionRequest(sealSession, baseUrl) {\n      dispatch(Object(_store__WEBPACK_IMPORTED_MODULE_9__[/* makeOnlyConnectionRequest */ \"i\"])(sealSession, baseUrl));\n    },\n    didAuthOK: function didAuthOK(uuid) {\n      dispatch(completeDIDAuth(uuid));\n    },\n    setCallback: function setCallback(callback) {\n      dispatch(Object(_store__WEBPACK_IMPORTED_MODULE_9__[/* setDidCallback */ \"n\"])(callback));\n    },\n    setSealSession: function setSealSession(session) {\n      dispatch(Object(_store__WEBPACK_IMPORTED_MODULE_9__[/* setSealSession */ \"t\"])(session));\n    }\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_11__[/* connect */ \"b\"])(mapStateToProps, mapDispatchToProps)(DisplayDidAuth));\n\n/***/ }),\n\n/***/ \"1E8m\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"MX0m\");\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(styled_jsx_style__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"7vrA\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"3Z9Z\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"JI6e\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"MBJH\");\n/* harmony import */ var _helpers_pathHelper__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"1VsM\");\n\n\nvar __jsx = react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement;\n\n\n\nvar QrPrompt = function QrPrompt(props) {\n  var index = 0;\n  var permissions = props.permissions.map(function (permission) {\n    index++;\n    return __jsx(\"tr\", {\n      key: index\n    }, __jsx(\"td\", null, index), __jsx(\"td\", null, permission));\n  });\n  return __jsx(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"], {\n    style: {\n      marginTop: \"3rem\"\n    }\n  }, __jsx(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"], {\n    className: \"box-fill-v\"\n  }, __jsx(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], null, __jsx(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"], null, __jsx(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"], null, __jsx(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], null, __jsx(\"p\", {\n    id: \"uPortMessage\",\n    className: \"jsx-3175251106\"\n  }, \"Scan the QR code with your uPort Wallet to access the service\"), __jsx(styled_jsx_style__WEBPACK_IMPORTED_MODULE_0___default.a, {\n    id: \"3175251106\"\n  }, [\"#uPortMessage.jsx-3175251106{margin-top:2em;}\"]))), __jsx(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"], null, __jsx(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], null, __jsx(\"img\", {\n    className: \"img-fluid\",\n    src: props.qrData\n  }))), __jsx(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"], null, \"Do not have the uPort app yet? Download it form your prefered app store\"), __jsx(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"], null, __jsx(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], null, __jsx(\"a\", {\n    href: \"https://apps.apple.com/us/app/uport-id/id1123434510\",\n    target: \"_blank\",\n    className: \"w-inline-block\"\n  }, __jsx(\"img\", {\n    className: \"img-fluid\",\n    src: props.baseUrl ? \"\".concat(props.baseUrl, \"app-store.png\") : \"/app-store.png\"\n  }))), __jsx(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], null, __jsx(\"a\", {\n    href: \"https://play.google.com/store/apps/details?id=com.uportMobile&hl=en\",\n    target: \"_blank\",\n    className: \"w-inline-block\"\n  }, __jsx(\"img\", {\n    className: \"img-fluid\",\n    src: props.baseUrl ? \"\".concat(props.baseUrl, \"play-store.png\") : \"/play-store.png\"\n  })))))), __jsx(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], {\n    className: \"border-left border-primary\"\n  }, __jsx(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"], null, __jsx(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"], null, __jsx(\"p\", {\n    id: \"uPortMessage\",\n    className: \"jsx-402463621\"\n  }, props.message), __jsx(styled_jsx_style__WEBPACK_IMPORTED_MODULE_0___default.a, {\n    id: \"402463621\"\n  }, [\"#uPortMessage.jsx-402463621{margin-top:2em;}\"])), __jsx(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"], null, __jsx(react_bootstrap__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"], {\n    striped: true,\n    bordered: true,\n    hover: true\n  }, __jsx(\"thead\", null, __jsx(\"tr\", null, __jsx(\"th\", null, \"#\"), __jsx(\"th\", null, \"Requested Permission\"))), __jsx(\"tbody\", null, permissions)))))));\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (QrPrompt);\n\n/***/ }),\n\n/***/ \"7KCE\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/vc/didAuth\",\n      function () {\n        return __webpack_require__(\"/3fj\");\n      }\n    ]);\n  \n\n/***/ }),\n\n/***/ \"GTdM\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var _home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"H+61\");\n/* harmony import */ var _home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"UlJF\");\n/* harmony import */ var _home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"+Css\");\n/* harmony import */ var _home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"7LId\");\n/* harmony import */ var _home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"VIvw\");\n/* harmony import */ var _home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"iHvq\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"cWnB\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"/MKj\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"BXF7\");\n/* harmony import */ var _helpers_isMobile__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"aBEL\");\n\n\n\n\n\n\nvar __jsx = react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = Object(_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = Object(_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return Object(_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\nvar IssueVCButton = /*#__PURE__*/function (_React$Component) {\n  Object(_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(IssueVCButton, _React$Component);\n\n  var _super = _createSuper(IssueVCButton);\n\n  function IssueVCButton(props) {\n    var _this;\n\n    Object(_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(this, IssueVCButton);\n\n    _this = _super.call(this, props);\n    _this.dispatch = props.dispatch;\n    _this.session = props.session;\n    _this.hasRequiredAttributes = props.hasRequiredAttributes;\n    _this.vcIssuanceEndpoint = props.vcIssuanceEndpoint;\n    _this.vcType = props.vcType;\n    _this.click = _this.click.bind(Object(_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_this));\n    return _this;\n  }\n\n  Object(_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(IssueVCButton, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {}\n  }, {\n    key: \"click\",\n    value: function click() {\n      var vcType = this.props.vcType;\n      console.log(\"issueVCButton:: click called with \" + this.props.uuid);\n      var url = this.props.baseUrl ? \"\".concat(this.props.baseUrl, \"seal/issueVC\") : \"/seal/issueVC\";\n      console.log(\"will send request for \".concat(url, \" with \").concat(this.props.userSelection, \", ty[e \").concat(vcType, \" isMobile \").concat(Object(_helpers_isMobile__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"])()));\n      this.props.sendVC(\"\".concat(url), this.props.userSelection, vcType, this.props.uuid, Object(_helpers_isMobile__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"])());\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"], {\n        variant: \"primary\",\n        disabled: !this.props.hasRequiredAttributes,\n        onClick: this.click\n      }, \"Issue Verifiable Claim\") // </Link>\n      ;\n    }\n  }]);\n\n  return IssueVCButton;\n}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component);\n\nfunction mapStateToProps(state) {\n  return {\n    status: state.sessionStatus\n  };\n}\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    sendVC: function sendVC(url, userSelection, vcType, uuid, isMobile) {\n      dispatch(Object(_store__WEBPACK_IMPORTED_MODULE_9__[/* makeAndPushVC */ \"h\"])(url, userSelection, vcType, uuid, isMobile));\n    }\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_8__[/* connect */ \"b\"])(mapStateToProps, mapDispatchToProps)(IssueVCButton));\n\n/***/ }),\n\n/***/ \"MBJH\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"wx14\");\n/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"zLVn\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"TSYQ\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _ThemeProvider__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"vUet\");\n\n\n\n\n\nvar Table = react__WEBPACK_IMPORTED_MODULE_3___default.a.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      striped = _ref.striped,\n      bordered = _ref.bordered,\n      borderless = _ref.borderless,\n      hover = _ref.hover,\n      size = _ref.size,\n      variant = _ref.variant,\n      responsive = _ref.responsive,\n      props = Object(_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_ref, [\"bsPrefix\", \"className\", \"striped\", \"bordered\", \"borderless\", \"hover\", \"size\", \"variant\", \"responsive\"]);\n\n  var decoratedBsPrefix = Object(_ThemeProvider__WEBPACK_IMPORTED_MODULE_4__[/* useBootstrapPrefix */ \"a\"])(bsPrefix, 'table');\n  var classes = classnames__WEBPACK_IMPORTED_MODULE_2___default()(className, decoratedBsPrefix, variant && decoratedBsPrefix + \"-\" + variant, size && decoratedBsPrefix + \"-\" + size, striped && decoratedBsPrefix + \"-striped\", bordered && decoratedBsPrefix + \"-bordered\", borderless && decoratedBsPrefix + \"-borderless\", hover && decoratedBsPrefix + \"-hover\");\n  var table = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"table\", Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({}, props, {\n    className: classes,\n    ref: ref\n  }));\n\n  if (responsive) {\n    var responsiveClass = decoratedBsPrefix + \"-responsive\";\n\n    if (typeof responsive === 'string') {\n      responsiveClass = responsiveClass + \"-\" + responsive;\n    }\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"div\", {\n      className: responsiveClass\n    }, table);\n  }\n\n  return table;\n});\n/* harmony default export */ __webpack_exports__[\"a\"] = (Table);\n\n/***/ }),\n\n/***/ \"o3qh\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var _home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"H+61\");\n/* harmony import */ var _home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"UlJF\");\n/* harmony import */ var _home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"7LId\");\n/* harmony import */ var _home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"VIvw\");\n/* harmony import */ var _home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"iHvq\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"/MKj\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"BXF7\");\n\n\n\n\n\nvar __jsx = react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = Object(_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = Object(_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return Object(_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\nvar SSE = /*#__PURE__*/function (_React$Component) {\n  Object(_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(SSE, _React$Component);\n\n  var _super = _createSuper(SSE);\n\n  function SSE(props) {\n    var _this;\n\n    Object(_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(this, SSE);\n\n    _this = _super.call(this, props);\n    _this.dispatch = props.dispatch;\n    _this.session = props.session;\n    return _this;\n  }\n\n  Object(_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(SSE, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.eventSource = new EventSource(\"/events\"); //listening for \"event\" type events\n      // as set by the server at ::  res.write(`event: event\\n`);\n\n      this.eventSource.addEventListener(\"event\", function (evt) {\n        var data = JSON.parse(evt.data); //returns a string so needs further parsing into a JSON\n        // Use data here\n\n        var eventData = JSON.parse(data);\n        console.log(eventData);\n\n        if (eventData.sessionId && _this2.props.serverSessionId) {\n          console.log(\"SSE.js -- componentDidMount:: got \".concat(eventData.sessionId, \" and the current session id is \").concat(_this2.props.serverSessionId));\n\n          if (eventData.sessionId === _this2.props.serverSessionId) {\n            console.log(\"SSE.js -- componentDidMount:: sessionsMatch!!\");\n            console.log(\"SSE.js -- componentDidMount:: uuid: \".concat(eventData.uuid));\n\n            _this2.props.didAuthOK(eventData.uuid, _this2.props.sealSession);\n          }\n        } // if there is no current session in the client\n        // and the server sends a new session event\n\n\n        if (!_this2.props.uuid) {\n          console.log(\" no active session found!\");\n        } else {\n          console.log(\"SSE.js:: found uuid \".concat(_this2.props.uuid));\n          console.log(\"SSE.js:: sent status \".concat(eventData.status)); //check if event is about this client\n\n          if (_this2.props.uuid === eventData.uuid) {\n            switch (eventData.status) {\n              case \"sent\":\n                console.log(\"SSE.js:: VC sent to user\");\n\n                _this2.props.vcSent();\n\n                return \"\";\n\n              default:\n                console.log(\"SSE.js:: default\");\n            }\n          } else {\n            console.log(\"SSE.js:: the uuid is about \".concat(eventData.uuid, \" but i have \").concat(_this2.props.uuid));\n          }\n        }\n      }, false);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(\"div\", null);\n    } //..render...\n\n  }]);\n\n  return SSE;\n}(react__WEBPACK_IMPORTED_MODULE_5___default.a.Component);\n\nfunction mapStateToProps(state) {\n  return {\n    session: state.serverSession,\n    status: state.sessionStatus // serverSessionId: state.serverSessionId,\n    // endpoint: state.endpoint\n\n  };\n}\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    vcSent: function vcSent() {\n      dispatch(Object(_store__WEBPACK_IMPORTED_MODULE_7__[/* vcSentToUser */ \"x\"])());\n    },\n    didAuthOK: function didAuthOK(uuid, sealSession) {\n      dispatch(Object(_store__WEBPACK_IMPORTED_MODULE_7__[/* completeDIDAuth */ \"c\"])(uuid, sealSession));\n    }\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_6__[/* connect */ \"b\"])(mapStateToProps, mapDispatchToProps)(SSE));\n\n/***/ }),\n\n/***/ \"rg98\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return _asyncToGenerator; });\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\n/***/ }),\n\n/***/ \"trcu\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _QrPrompt__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"1E8m\");\n/* harmony import */ var _Sse_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"o3qh\");\n\nvar __jsx = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;\n\n\n\nvar PairOrCard = function PairOrCard(props) {\n  var vcSentToUser = __jsx(\"div\", {\n    className: \"row\"\n  }, __jsx(\"div\", {\n    className: \"col\",\n    style: {\n      marginTop: \"3rem\",\n      marginBottom: \"3rem\",\n      textAlign: \"center\"\n    }\n  }, __jsx(\"img\", {\n    alt: \"\",\n    src: \"/finished.png\",\n    style: {\n      maxWidth: \"15rem\",\n      display: \"block\",\n      marginLeft: \"auto\",\n      marginRight: \"auto\"\n    }\n  }), __jsx(\"p\", null, \"The verifiable credential has been sent to your mobile phone succesfully!\", __jsx(\"br\", null), \"You should receive a notification, prompting you to store it, very soon. Please check your wallet notifications\")));\n\n  if (props.vcSent) {\n    return vcSentToUser;\n  }\n\n  if (props.qrData && !props.DID) {\n    var sseEndpoint = props.baseUrl ? \"\".concat(props.endpoint, \"/\").concat(props.baseUrl) : props.endpoint;\n    return __jsx(\"div\", null, __jsx(_QrPrompt__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"], {\n      qrData: props.qrData,\n      message: \"SEAL is requesting to connect your uPort wallet:\",\n      permissions: [\"Push Notifications\"],\n      baseUrl: props.baseUrl\n    }), __jsx(_Sse_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"], {\n      uuid: props.uuid,\n      endpoint: sseEndpoint,\n      serverSessionId: props.serverSessionId,\n      sealSession: props.sealSession\n    }));\n  } else {\n    if (props.DID) {\n      return props.card;\n    } else {\n      return __jsx(\"div\", null, \"Generating Wallet Pairing Request...\");\n    }\n  }\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (PairOrCard);\n\n/***/ }),\n\n/***/ \"uY6F\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"YFqc\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"cWnB\");\n\nvar __jsx = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;\n\n\n\nvar HomeButton = function HomeButton(props) {\n  return __jsx(\"div\", {\n    className: \"col\",\n    style: {\n      marginTop: \"1.5rem\"\n    }\n  }, __jsx(next_link__WEBPACK_IMPORTED_MODULE_1___default.a, {\n    href: props.baseUrl ? \"\".concat(props.baseUrl) : \"/\"\n  }, __jsx(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"], {\n    variant: \"primary\",\n    className: \"float-right\"\n  }, \"Home\")));\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (HomeButton);\n\n/***/ })\n\n},[[\"7KCE\",0,2,1,3,4,5,6,7]]]);","inputSourceMap":{"version":3,"sources":["/home/ni/code/js/seal-issuer/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/home/ni/code/js/seal-issuer/pages/vc/didAuth.js","/home/ni/code/js/seal-issuer/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/home/ni/code/js/seal-issuer/components/QrPrompt.js","/home/ni/code/js/seal-issuer/node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?page=%2Fvc%2FdidAuth&absolutePagePath=private-next-pages%2Fvc%2FdidAuth.js!","/home/ni/code/js/seal-issuer/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/home/ni/code/js/seal-issuer/components/IssueVCButton.js","/home/ni/code/js/seal-issuer/node_modules/react-bootstrap/esm/Table.js","/home/ni/code/js/seal-issuer/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/home/ni/code/js/seal-issuer/components/Sse.js","/home/ni/code/js/seal-issuer/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","/home/ni/code/js/seal-issuer/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/home/ni/code/js/seal-issuer/components/PairOrCard.js","/home/ni/code/js/seal-issuer/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/home/ni/code/js/seal-issuer/components/HomeButton.js"],"names":[],"mappings":"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;;AAEA;AACA;;AAEA,IAAI,4JAAe;;AAEnB;AACA;AACA;AACA;AACA;;AAEA,EAAE,yJAAY;AACd;AACA;AACA;;AAEA,oDAAoD;AACpD;;AAEA;AACA,wCAAwC;AACxC;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;;;AAGA;AACA;AACA,SAAS;AACT;AACA,wEAAwE;;AAExE;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;;AAEL,GAAG;;AAEH;AACA,CAAC,CAAC,4CAAK;;AAEP;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,mEAAY;AAC3B,KAAK;AACL;AACA,eAAe,sEAAe;AAC9B;AACA;AACA;;AAEe,4HAAO,0CAA0C,E;;;;;;;;AClHhE;AAAA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA,C;;;;;;;;AClCA;AAAA;AAAA;AAAA;AAA0B;AAC1B,YAAY,4CAAK;AACiB;AACP;;AAE3B;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA,oCAAoC,yDAAQ;AAC5C;AACA;AACA;AACA;AACA,KAAK,SAAS,uDAAG;AACjB;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEe,mEAAU,E;;;;;;;;ACpDzB;AAAA;AAAA;AAAA;AAAA;AAA0B;AAC1B,YAAY,4CAAK;AACY;AACY;;AAEzC;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,QAAQ,gDAAI;AACf;AACA,GAAG,QAAQ,+DAAM;AACjB;AACA;AACA,GAAG;AACH;;AAEe,mEAAU,E","file":"x","sourcesContent":["import _regeneratorRuntime from \"/home/ni/code/js/seal-issuer/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/ni/code/js/seal-issuer/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/ni/code/js/seal-issuer/node_modules/next/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/ni/code/js/seal-issuer/node_modules/next/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/ni/code/js/seal-issuer/node_modules/next/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/home/ni/code/js/seal-issuer/node_modules/next/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/ni/code/js/seal-issuer/node_modules/next/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from \"react\";\nimport axios from \"axios\";\nimport { setDidCallback, makeOnlyConnectionRequest, setEndpoint, setBaseUrl, setSealSession as _setSealSession, setServerSessionId } from \"../../store\";\nimport Layout from \"../../components/Layout\";\nimport { connect } from \"react-redux\";\nimport { Button, Row, Col, Card, Container } from \"react-bootstrap\";\nimport MyStepper from \"../../components/Stepper\";\nimport HomeButton from \"../../components/HomeButton\";\nimport IssueVCButton from \"../../components/IssueVCButton\";\nimport PairOrCard from \"../../components/PairOrCard\";\n\nvar DisplayDidAuth = /*#__PURE__*/function (_React$Component) {\n  _inherits(DisplayDidAuth, _React$Component);\n\n  var _super = _createSuper(DisplayDidAuth);\n\n  function DisplayDidAuth(props) {\n    var _this;\n\n    _classCallCheck(this, DisplayDidAuth);\n\n    _this = _super.call(this, props);\n    _this.dispatch = props.dispatch;\n    _this.isFetching = props.isFetching;\n    _this.sessionData = props.sessionData;\n    return _this;\n  }\n\n  _createClass(DisplayDidAuth, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // generated the connectionRequest\n      this.props.makeConnectionRequest(this.props.sealSession, this.props.baseUrl);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (this.props.DID) {\n        //if DID auth is completed\n        // redirect to the callbackAddress\n        window.location.href = this.props.callback;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var stepperSteps = [{\n        title: \"Pair your wallet\"\n      }];\n\n      var result = __jsx(PairOrCard, {\n        qrData: this.props.qrData,\n        DID: this.props.DID,\n        baseUrl: this.props.baseUrl,\n        uuid: this.props.sealSession,\n        card: __jsx(\"dib\", null, \"DID authentication completed successfully\"),\n        vcSent: this.props.vcSent,\n        sealSession: this.props.sealSession,\n        serverSessionId: this.props.serverSessionId\n      });\n\n      return __jsx(Layout, null, __jsx(Row, null, __jsx(Col, null, __jsx(MyStepper, {\n        steps: stepperSteps,\n        activeNum: 1\n      }))), result, __jsx(Row, null, __jsx(HomeButton, {\n        baseUrl: this.props.baseUrl\n      })));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref) {\n        var reduxStore, req, sealSession, callback, baseUrl;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                reduxStore = _ref.reduxStore, req = _ref.req;\n\n                if (false) {\n                  reduxStore.dispatch(setEndpoint(req.session.enpoint));\n                  baseUrl = req.session.baseUrl ? \"/\".concat(req.session.baseUrl, \"/\") : \"\";\n                  reduxStore.dispatch(setBaseUrl(baseUrl));\n                  reduxStore.dispatch(setServerSessionId(req.session.id));\n                  sealSession = req.session.sealSession;\n                  callback = req.session.callback;\n                } else {\n                  sealSession = reduxStore.getState().sealSession;\n                  callback = reduxStore.getState().callback;\n                }\n\n                reduxStore.dispatch(_setSealSession(sealSession));\n                reduxStore.dispatch(setDidCallback(callback));\n                return _context.abrupt(\"return\", {\n                  qrData: reduxStore.getState().qrData,\n                  sealSession: reduxStore.getState().sealSession,\n                  callback: reduxStore.getState().callback\n                });\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getInitialProps(_x) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return DisplayDidAuth;\n}(React.Component);\n\nfunction mapStateToProps(state) {\n  return {\n    isFetching: state.fetching,\n    qrData: state.qrData,\n    baseUrl: state.baseUrl,\n    DID: state.DID,\n    sealSession: state.sealSession,\n    callback: state.didAuthCallback,\n    serverSessionId: state.serverSessionId\n  };\n}\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    setSteps: function setSteps(steps) {\n      dispatch(setStepperSteps(steps));\n    },\n    makeConnectionRequest: function makeConnectionRequest(sealSession, baseUrl) {\n      dispatch(makeOnlyConnectionRequest(sealSession, baseUrl));\n    },\n    didAuthOK: function didAuthOK(uuid) {\n      dispatch(completeDIDAuth(uuid));\n    },\n    setCallback: function setCallback(callback) {\n      dispatch(setDidCallback(callback));\n    },\n    setSealSession: function setSealSession(session) {\n      dispatch(_setSealSession(session));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DisplayDidAuth);","import _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { Table, Container, Row, Col, Button } from \"react-bootstrap\";\nimport { getPath } from \"../helpers/pathHelper\";\n\nvar QrPrompt = function QrPrompt(props) {\n  var index = 0;\n  var permissions = props.permissions.map(function (permission) {\n    index++;\n    return __jsx(\"tr\", {\n      key: index\n    }, __jsx(\"td\", null, index), __jsx(\"td\", null, permission));\n  });\n  return __jsx(Container, {\n    style: {\n      marginTop: \"3rem\"\n    }\n  }, __jsx(Row, {\n    className: \"box-fill-v\"\n  }, __jsx(Col, null, __jsx(Container, null, __jsx(Row, null, __jsx(Col, null, __jsx(\"p\", {\n    id: \"uPortMessage\",\n    className: \"jsx-3175251106\"\n  }, \"Scan the QR code with your uPort Wallet to access the service\"), __jsx(_JSXStyle, {\n    id: \"3175251106\"\n  }, [\"#uPortMessage.jsx-3175251106{margin-top:2em;}\"]))), __jsx(Row, null, __jsx(Col, null, __jsx(\"img\", {\n    className: \"img-fluid\",\n    src: props.qrData\n  }))), __jsx(Row, null, \"Do not have the uPort app yet? Download it form your prefered app store\"), __jsx(Row, null, __jsx(Col, null, __jsx(\"a\", {\n    href: \"https://apps.apple.com/us/app/uport-id/id1123434510\",\n    target: \"_blank\",\n    className: \"w-inline-block\"\n  }, __jsx(\"img\", {\n    className: \"img-fluid\",\n    src: props.baseUrl ? \"\".concat(props.baseUrl, \"app-store.png\") : \"/app-store.png\"\n  }))), __jsx(Col, null, __jsx(\"a\", {\n    href: \"https://play.google.com/store/apps/details?id=com.uportMobile&hl=en\",\n    target: \"_blank\",\n    className: \"w-inline-block\"\n  }, __jsx(\"img\", {\n    className: \"img-fluid\",\n    src: props.baseUrl ? \"\".concat(props.baseUrl, \"play-store.png\") : \"/play-store.png\"\n  })))))), __jsx(Col, {\n    className: \"border-left border-primary\"\n  }, __jsx(Container, null, __jsx(Row, null, __jsx(\"p\", {\n    id: \"uPortMessage\",\n    className: \"jsx-402463621\"\n  }, props.message), __jsx(_JSXStyle, {\n    id: \"402463621\"\n  }, [\"#uPortMessage.jsx-402463621{margin-top:2em;}\"])), __jsx(Row, null, __jsx(Table, {\n    striped: true,\n    bordered: true,\n    hover: true\n  }, __jsx(\"thead\", null, __jsx(\"tr\", null, __jsx(\"th\", null, \"#\"), __jsx(\"th\", null, \"Requested Permission\"))), __jsx(\"tbody\", null, permissions)))))));\n};\n\nexport default QrPrompt;","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/vc/didAuth\",\n      function () {\n        return require(\"private-next-pages/vc/didAuth.js\");\n      }\n    ]);\n  ","import _classCallCheck from \"/home/ni/code/js/seal-issuer/node_modules/next/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/ni/code/js/seal-issuer/node_modules/next/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/home/ni/code/js/seal-issuer/node_modules/next/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/ni/code/js/seal-issuer/node_modules/next/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/home/ni/code/js/seal-issuer/node_modules/next/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/ni/code/js/seal-issuer/node_modules/next/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Button } from \"react-bootstrap\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { makeAndPushVC } from \"../store\";\nimport isMobile from \"../helpers/isMobile\";\n\nvar IssueVCButton = /*#__PURE__*/function (_React$Component) {\n  _inherits(IssueVCButton, _React$Component);\n\n  var _super = _createSuper(IssueVCButton);\n\n  function IssueVCButton(props) {\n    var _this;\n\n    _classCallCheck(this, IssueVCButton);\n\n    _this = _super.call(this, props);\n    _this.dispatch = props.dispatch;\n    _this.session = props.session;\n    _this.hasRequiredAttributes = props.hasRequiredAttributes;\n    _this.vcIssuanceEndpoint = props.vcIssuanceEndpoint;\n    _this.vcType = props.vcType;\n    _this.click = _this.click.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(IssueVCButton, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {}\n  }, {\n    key: \"click\",\n    value: function click() {\n      var vcType = this.props.vcType;\n      console.log(\"issueVCButton:: click called with \" + this.props.uuid);\n      var url = this.props.baseUrl ? \"\".concat(this.props.baseUrl, \"seal/issueVC\") : \"/seal/issueVC\";\n      console.log(\"will send request for \".concat(url, \" with \").concat(this.props.userSelection, \", ty[e \").concat(vcType, \" isMobile \").concat(isMobile()));\n      this.props.sendVC(\"\".concat(url), this.props.userSelection, vcType, this.props.uuid, isMobile());\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(Button, {\n        variant: \"primary\",\n        disabled: !this.props.hasRequiredAttributes,\n        onClick: this.click\n      }, \"Issue Verifiable Claim\") // </Link>\n      ;\n    }\n  }]);\n\n  return IssueVCButton;\n}(React.Component);\n\nfunction mapStateToProps(state) {\n  return {\n    status: state.sessionStatus\n  };\n}\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    sendVC: function sendVC(url, userSelection, vcType, uuid, isMobile) {\n      dispatch(makeAndPushVC(url, userSelection, vcType, uuid, isMobile));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(IssueVCButton);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar Table = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      striped = _ref.striped,\n      bordered = _ref.bordered,\n      borderless = _ref.borderless,\n      hover = _ref.hover,\n      size = _ref.size,\n      variant = _ref.variant,\n      responsive = _ref.responsive,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"className\", \"striped\", \"bordered\", \"borderless\", \"hover\", \"size\", \"variant\", \"responsive\"]);\n\n  var decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'table');\n  var classes = classNames(className, decoratedBsPrefix, variant && decoratedBsPrefix + \"-\" + variant, size && decoratedBsPrefix + \"-\" + size, striped && decoratedBsPrefix + \"-striped\", bordered && decoratedBsPrefix + \"-bordered\", borderless && decoratedBsPrefix + \"-borderless\", hover && decoratedBsPrefix + \"-hover\");\n  var table = /*#__PURE__*/React.createElement(\"table\", _extends({}, props, {\n    className: classes,\n    ref: ref\n  }));\n\n  if (responsive) {\n    var responsiveClass = decoratedBsPrefix + \"-responsive\";\n\n    if (typeof responsive === 'string') {\n      responsiveClass = responsiveClass + \"-\" + responsive;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: responsiveClass\n    }, table);\n  }\n\n  return table;\n});\nexport default Table;","import _classCallCheck from \"/home/ni/code/js/seal-issuer/node_modules/next/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/ni/code/js/seal-issuer/node_modules/next/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/ni/code/js/seal-issuer/node_modules/next/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/home/ni/code/js/seal-issuer/node_modules/next/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/ni/code/js/seal-issuer/node_modules/next/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { vcSentToUser, completeDIDAuth } from \"../store\";\n\nvar SSE = /*#__PURE__*/function (_React$Component) {\n  _inherits(SSE, _React$Component);\n\n  var _super = _createSuper(SSE);\n\n  function SSE(props) {\n    var _this;\n\n    _classCallCheck(this, SSE);\n\n    _this = _super.call(this, props);\n    _this.dispatch = props.dispatch;\n    _this.session = props.session;\n    return _this;\n  }\n\n  _createClass(SSE, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.eventSource = new EventSource(\"/events\"); //listening for \"event\" type events\n      // as set by the server at ::  res.write(`event: event\\n`);\n\n      this.eventSource.addEventListener(\"event\", function (evt) {\n        var data = JSON.parse(evt.data); //returns a string so needs further parsing into a JSON\n        // Use data here\n\n        var eventData = JSON.parse(data);\n        console.log(eventData);\n\n        if (eventData.sessionId && _this2.props.serverSessionId) {\n          console.log(\"SSE.js -- componentDidMount:: got \".concat(eventData.sessionId, \" and the current session id is \").concat(_this2.props.serverSessionId));\n\n          if (eventData.sessionId === _this2.props.serverSessionId) {\n            console.log(\"SSE.js -- componentDidMount:: sessionsMatch!!\");\n            console.log(\"SSE.js -- componentDidMount:: uuid: \".concat(eventData.uuid));\n\n            _this2.props.didAuthOK(eventData.uuid, _this2.props.sealSession);\n          }\n        } // if there is no current session in the client\n        // and the server sends a new session event\n\n\n        if (!_this2.props.uuid) {\n          console.log(\" no active session found!\");\n        } else {\n          console.log(\"SSE.js:: found uuid \".concat(_this2.props.uuid));\n          console.log(\"SSE.js:: sent status \".concat(eventData.status)); //check if event is about this client\n\n          if (_this2.props.uuid === eventData.uuid) {\n            switch (eventData.status) {\n              case \"sent\":\n                console.log(\"SSE.js:: VC sent to user\");\n\n                _this2.props.vcSent();\n\n                return \"\";\n\n              default:\n                console.log(\"SSE.js:: default\");\n            }\n          } else {\n            console.log(\"SSE.js:: the uuid is about \".concat(eventData.uuid, \" but i have \").concat(_this2.props.uuid));\n          }\n        }\n      }, false);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(\"div\", null);\n    } //..render...\n\n  }]);\n\n  return SSE;\n}(React.Component);\n\nfunction mapStateToProps(state) {\n  return {\n    session: state.serverSession,\n    status: state.sessionStatus // serverSessionId: state.serverSessionId,\n    // endpoint: state.endpoint\n\n  };\n}\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    vcSent: function vcSent() {\n      dispatch(vcSentToUser());\n    },\n    didAuthOK: function didAuthOK(uuid, sealSession) {\n      dispatch(completeDIDAuth(uuid, sealSession));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SSE);","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import React from \"react\";\nvar __jsx = React.createElement;\nimport QrPrompt from \"./QrPrompt\";\nimport SSE from \"./Sse.js\";\n\nvar PairOrCard = function PairOrCard(props) {\n  var vcSentToUser = __jsx(\"div\", {\n    className: \"row\"\n  }, __jsx(\"div\", {\n    className: \"col\",\n    style: {\n      marginTop: \"3rem\",\n      marginBottom: \"3rem\",\n      textAlign: \"center\"\n    }\n  }, __jsx(\"img\", {\n    alt: \"\",\n    src: \"/finished.png\",\n    style: {\n      maxWidth: \"15rem\",\n      display: \"block\",\n      marginLeft: \"auto\",\n      marginRight: \"auto\"\n    }\n  }), __jsx(\"p\", null, \"The verifiable credential has been sent to your mobile phone succesfully!\", __jsx(\"br\", null), \"You should receive a notification, prompting you to store it, very soon. Please check your wallet notifications\")));\n\n  if (props.vcSent) {\n    return vcSentToUser;\n  }\n\n  if (props.qrData && !props.DID) {\n    var sseEndpoint = props.baseUrl ? \"\".concat(props.endpoint, \"/\").concat(props.baseUrl) : props.endpoint;\n    return __jsx(\"div\", null, __jsx(QrPrompt, {\n      qrData: props.qrData,\n      message: \"SEAL is requesting to connect your uPort wallet:\",\n      permissions: [\"Push Notifications\"],\n      baseUrl: props.baseUrl\n    }), __jsx(SSE, {\n      uuid: props.uuid,\n      endpoint: sseEndpoint,\n      serverSessionId: props.serverSessionId,\n      sealSession: props.sealSession\n    }));\n  } else {\n    if (props.DID) {\n      return props.card;\n    } else {\n      return __jsx(\"div\", null, \"Generating Wallet Pairing Request...\");\n    }\n  }\n};\n\nexport default PairOrCard;","import React from \"react\";\nvar __jsx = React.createElement;\nimport Link from \"next/link\";\nimport { Button } from \"react-bootstrap\";\n\nvar HomeButton = function HomeButton(props) {\n  return __jsx(\"div\", {\n    className: \"col\",\n    style: {\n      marginTop: \"1.5rem\"\n    }\n  }, __jsx(Link, {\n    href: props.baseUrl ? \"\".concat(props.baseUrl) : \"/\"\n  }, __jsx(Button, {\n    variant: \"primary\",\n    className: \"float-right\"\n  }, \"Home\")));\n};\n\nexport default HomeButton;"]}}