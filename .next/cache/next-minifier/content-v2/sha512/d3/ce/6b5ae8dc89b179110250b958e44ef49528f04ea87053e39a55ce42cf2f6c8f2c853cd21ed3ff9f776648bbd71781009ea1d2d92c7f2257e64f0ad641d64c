{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[25],{DdOw:function(e,t,s){\"use strict\";s.r(t);var r=s(\"H+61\"),n=s(\"UlJF\"),i=s(\"+Css\"),o=s(\"7LId\"),a=s(\"VIvw\"),c=s(\"iHvq\"),p=s(\"q1tI\"),u=s.n(p),l=s(\"YFqc\"),h=s.n(l),f=s(\"20a2\"),d=s.n(f),v=s(\"/MKj\"),m=s(\"5Yp1\"),b=s(\"1E8m\"),g=s(\"jCsy\"),q=s(\"o3qh\"),y=s(\"BXF7\"),w=s(\"3Z9Z\"),S=s(\"JI6e\"),D=s(\"cWnB\"),j=s(\"aBEL\"),O=u.a.createElement;function N(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,r=Object(c.a)(e);if(t){var n=Object(c.a)(this).constructor;s=Reflect.construct(r,arguments,n)}else s=r.apply(this,arguments);return Object(a.a)(this,s)}}s(\"6ivx\").message.util;var R=s(\"6ivx\").transport,U=function(e){Object(o.a)(s,e);var t=N(s);function s(e){var n;return Object(r.a)(this,s),(n=t.call(this,e)).dispatch=e.dispatch,n.isFetching=e.isFetching,n.sessionData=e.sessionData,n.userSelection=e.userSelection,n.endpoint=e.endpoint,n.requestVC=n.requestVC.bind(Object(i.a)(n)),n}return Object(n.a)(s,[{key:\"componentDidMount\",value:function(){this.props.userSelection.length>0&&this.requestVC()}},{key:\"requestVC\",value:function(){var e=this.props.router.query.vcType;console.log(\"will request the creation of a requestVC\"),console.log(\"[vcType.js] :: the pathi is \".concat(e));var t=this.props.baseUrl?\"\".concat(this.props.baseUrl,\"issueVCReq\"):\"/issueVCReq\";this.props.makeIssueRequest(t,this.props.userSelection,e,Object(j.a)())}},{key:\"render\",value:function(){var e;if(this.props.userSelection.length>0){if(this.props.vcSent&&(e=O(\"div\",{className:\"row\"},O(\"div\",{className:\"col\",style:{marginTop:\"3rem\",marginBottom:\"3rem\",textAlign:\"center\"}},O(\"img\",{alt:\"\",src:\"/finished.png\",style:{maxWidth:\"15rem\",display:\"block\",marginLeft:\"auto\",marginRight:\"auto\"}}),O(\"p\",null,\"The verifiable credential has been sent to your mobile phone succesfully!!\",O(\"br\",null),\"You should receive a notification, prompting you to store it, very soon!\")))),this.props.qrData&&Object(j.a)())R.url.send()(this.props.qrData),d.a.push(\"\".concat(this.props.baseUrl));if(this.props.qrData&&!this.props.vcSent){var t=this.props.baseUrl?\"\".concat(this.props.endpoint,\"/\").concat(this.props.baseUrl):this.props.endpoint;e=O(\"div\",null,O(b.a,{qrData:this.props.qrData,message:\"SEAL is requesting to connect your uPort wallet:\",permissions:[\"Push Notifications\"],baseUrl:this.props.baseUrl}),O(q.a,{uuid:this.props.uuid,endpoint:t}))}return!this.props.isFetching||this.props.qrData||this.props.vcSent||(e=O(\"div\",{className:\"row\"},\"Generating QR code please wait\")),O(m.a,null,O(w.a,null,O(S.a,null,O(g.a,{steps:this.props.stepperSteps,activeNum:this.props.stepperSteps.length-1}))),e,O(w.a,null,O(\"div\",{className:\"col\",style:{marginTop:\"1.5rem\"}},O(h.a,{href:this.props.baseUrl?\"\".concat(this.props.baseUrl):\"/\"},O(D.a,{variant:\"primary\",className:\"float-right\"},\"Home\")))))}return O(m.a,null,O(\"div\",{className:\"row\"},\"user made no selections!\"))}}]),s}(u.a.Component);t.default=Object(f.withRouter)(Object(v.b)((function(e){return console.log(\"issue.js:: mapping state to props\"),console.log(e),{isFetching:e.fetching,qrData:e.qrData,uuid:e.uuid,sessionData:e.sessionData,userSelection:e.userSelection,vcSent:e.vcSent,stepperSteps:e.stepperSteps,endpoint:e.endpoint,baseUrl:e.baseUrl}}),(function(e){return{makeIssueRequest:function(t,s,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e(Object(y.m)(t,s,r,n))}}}))(U))},mzr8:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/issue/[vcType]\",function(){return s(\"DdOw\")}])}},[[\"mzr8\",0,2,11,1,3,4,5,6,7,8,9]]]);","map":{"version":3,"sources":["static/chunks/pages/issue/[vcType]-5e579b9544579051a997.js"],"names":["_N_E","window","push","DdOw","module","__webpack_exports__","__webpack_require__","r","_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__","_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__","_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","react__WEBPACK_IMPORTED_MODULE_6__","react__WEBPACK_IMPORTED_MODULE_6___default","n","next_link__WEBPACK_IMPORTED_MODULE_7__","next_link__WEBPACK_IMPORTED_MODULE_7___default","next_router__WEBPACK_IMPORTED_MODULE_8__","next_router__WEBPACK_IMPORTED_MODULE_8___default","react_redux__WEBPACK_IMPORTED_MODULE_9__","_components_Layout__WEBPACK_IMPORTED_MODULE_10__","_components_QrPrompt__WEBPACK_IMPORTED_MODULE_11__","_components_Stepper__WEBPACK_IMPORTED_MODULE_12__","_components_Sse__WEBPACK_IMPORTED_MODULE_13__","_store__WEBPACK_IMPORTED_MODULE_14__","react_bootstrap__WEBPACK_IMPORTED_MODULE_15__","react_bootstrap__WEBPACK_IMPORTED_MODULE_16__","react_bootstrap__WEBPACK_IMPORTED_MODULE_17__","_helpers_isMobile__WEBPACK_IMPORTED_MODULE_18__","__jsx","a","createElement","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","prototype","toString","call","e","_isNativeReflectConstruct","result","Super","Object","NewTarget","this","constructor","arguments","apply","message","util","transport","Issue","_React$Component","_super","props","_this","dispatch","isFetching","sessionData","userSelection","endpoint","requestVC","bind","key","value","length","vcType","router","query","console","log","concat","url","baseUrl","makeIssueRequest","vcSent","className","style","marginTop","marginBottom","textAlign","alt","src","maxWidth","display","marginLeft","marginRight","qrData","send","urlTransport","sseEndpoint","permissions","uuid","steps","stepperSteps","activeNum","href","variant","Component","state","fetching","data","isMobile","undefined","mzr8","exports","__NEXT_P"],"mappings":"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"},"name":"static/chunks/pages/issue/[vcType]-5e579b9544579051a997.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[25],{\n\n/***/ \"DdOw\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"H+61\");\n/* harmony import */ var _home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"UlJF\");\n/* harmony import */ var _home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"+Css\");\n/* harmony import */ var _home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"7LId\");\n/* harmony import */ var _home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"VIvw\");\n/* harmony import */ var _home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"iHvq\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"YFqc\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"/MKj\");\n/* harmony import */ var _components_Layout__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"5Yp1\");\n/* harmony import */ var _components_QrPrompt__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"1E8m\");\n/* harmony import */ var _components_Stepper__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"jCsy\");\n/* harmony import */ var _components_Sse__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"o3qh\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"BXF7\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"3Z9Z\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"JI6e\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(\"cWnB\");\n/* harmony import */ var _helpers_isMobile__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(\"aBEL\");\n\n\n\n\n\n\nvar __jsx = react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = Object(_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = Object(_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return Object(_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\n\n\n\nvar message = __webpack_require__(\"6ivx\").message.util;\n\nvar transport = __webpack_require__(\"6ivx\").transport;\n\n\n\n\n\n\nvar Issue = /*#__PURE__*/function (_React$Component) {\n  Object(_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(Issue, _React$Component);\n\n  var _super = _createSuper(Issue);\n\n  function Issue(props) {\n    var _this;\n\n    Object(_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(this, Issue);\n\n    _this = _super.call(this, props);\n    _this.dispatch = props.dispatch;\n    _this.isFetching = props.isFetching;\n    _this.sessionData = props.sessionData;\n    _this.userSelection = props.userSelection;\n    _this.endpoint = props.endpoint;\n    _this.requestVC = _this.requestVC.bind(Object(_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_this));\n    return _this;\n  }\n\n  Object(_home_ni_code_js_seal_issuer_node_modules_next_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(Issue, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.userSelection.length > 0) {\n        this.requestVC();\n      }\n    }\n  }, {\n    key: \"requestVC\",\n    value: function requestVC() {\n      var vcType = this.props.router.query.vcType;\n      console.log(\"will request the creation of a requestVC\");\n      console.log(\"[vcType.js] :: the pathi is \".concat(vcType));\n      var url = this.props.baseUrl ? \"\".concat(this.props.baseUrl, \"issueVCReq\") : \"/issueVCReq\";\n      this.props.makeIssueRequest(url, this.props.userSelection, vcType, Object(_helpers_isMobile__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"])());\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var result;\n\n      if (this.props.userSelection.length > 0) {\n        if (this.props.vcSent) {\n          result = __jsx(\"div\", {\n            className: \"row\"\n          }, __jsx(\"div\", {\n            className: \"col\",\n            style: {\n              marginTop: \"3rem\",\n              marginBottom: \"3rem\",\n              textAlign: \"center\"\n            }\n          }, __jsx(\"img\", {\n            alt: \"\",\n            src: \"/finished.png\",\n            style: {\n              maxWidth: \"15rem\",\n              display: \"block\",\n              marginLeft: \"auto\",\n              marginRight: \"auto\"\n            }\n          }), __jsx(\"p\", null, \"The verifiable credential has been sent to your mobile phone succesfully!!\", __jsx(\"br\", null), \"You should receive a notification, prompting you to store it, very soon!\")));\n        }\n\n        if (this.props.qrData && Object(_helpers_isMobile__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"])()) {\n          var urlTransport = transport.url.send();\n          urlTransport(this.props.qrData); //TODO maybe add a check here with SSE if the\n          // user received the VC?\n\n          next_router__WEBPACK_IMPORTED_MODULE_8___default.a.push(\"\".concat(this.props.baseUrl));\n        }\n\n        if (this.props.qrData && !this.props.vcSent) {\n          var sseEndpoint = this.props.baseUrl ? \"\".concat(this.props.endpoint, \"/\").concat(this.props.baseUrl) : this.props.endpoint;\n          result = __jsx(\"div\", null, __jsx(_components_QrPrompt__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"], {\n            qrData: this.props.qrData,\n            message: \"SEAL is requesting to connect your uPort wallet:\",\n            permissions: [\"Push Notifications\"],\n            baseUrl: this.props.baseUrl\n          }), __jsx(_components_Sse__WEBPACK_IMPORTED_MODULE_13__[/* default */ \"a\"], {\n            uuid: this.props.uuid,\n            endpoint: sseEndpoint\n          }));\n        }\n\n        if (this.props.isFetching && !this.props.qrData && !this.props.vcSent) {\n          result = __jsx(\"div\", {\n            className: \"row\"\n          }, \"Generating QR code please wait\");\n        }\n\n        return __jsx(_components_Layout__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"], null, __jsx(react_bootstrap__WEBPACK_IMPORTED_MODULE_15__[/* default */ \"a\"], null, __jsx(react_bootstrap__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"], null, __jsx(_components_Stepper__WEBPACK_IMPORTED_MODULE_12__[/* default */ \"a\"], {\n          steps: this.props.stepperSteps,\n          activeNum: this.props.stepperSteps.length - 1\n        }))), result, __jsx(react_bootstrap__WEBPACK_IMPORTED_MODULE_15__[/* default */ \"a\"], null, __jsx(\"div\", {\n          className: \"col\",\n          style: {\n            marginTop: \"1.5rem\"\n          }\n        }, __jsx(next_link__WEBPACK_IMPORTED_MODULE_7___default.a, {\n          href: this.props.baseUrl ? \"\".concat(this.props.baseUrl) : \"/\"\n        }, __jsx(react_bootstrap__WEBPACK_IMPORTED_MODULE_17__[/* default */ \"a\"], {\n          variant: \"primary\",\n          className: \"float-right\"\n        }, \"Home\")))));\n      } else {\n        return __jsx(_components_Layout__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"], null, __jsx(\"div\", {\n          className: \"row\"\n        }, \"user made no selections!\"));\n      }\n    }\n  }]);\n\n  return Issue;\n}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component);\n\nfunction mapStateToProps(state) {\n  console.log(\"issue.js:: mapping state to props\");\n  console.log(state);\n  return {\n    isFetching: state.fetching,\n    qrData: state.qrData,\n    uuid: state.uuid,\n    // userEidas: state.userEidas, // the eIDAS attributes of the user\n    // userEduGain: state.userEduGain, // the eduGain attributes of the user\n    sessionData: state.sessionData,\n    userSelection: state.userSelection,\n    // the attributes selected by the user to be included in a VC,\n    vcSent: state.vcSent,\n    stepperSteps: state.stepperSteps,\n    endpoint: state.endpoint,\n    baseUrl: state.baseUrl\n  };\n}\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    makeIssueRequest: function makeIssueRequest(url, data, vcType) {\n      var isMobile = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      dispatch(Object(_store__WEBPACK_IMPORTED_MODULE_14__[/* requestVCgeneration */ \"m\"])(url, data, vcType, isMobile));\n    }\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(next_router__WEBPACK_IMPORTED_MODULE_8__[\"withRouter\"])(Object(react_redux__WEBPACK_IMPORTED_MODULE_9__[/* connect */ \"b\"])(mapStateToProps, mapDispatchToProps)(Issue)));\n\n/***/ }),\n\n/***/ \"mzr8\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/issue/[vcType]\",\n      function () {\n        return __webpack_require__(\"DdOw\");\n      }\n    ]);\n  \n\n/***/ })\n\n},[[\"mzr8\",0,2,11,1,3,4,5,6,7,8,9]]]);","inputSourceMap":{"version":3,"sources":["/home/ni/code/js/seal-issuer/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/home/ni/code/js/seal-issuer/pages/issue/[vcType].js","/home/ni/code/js/seal-issuer/node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?page=%2Fissue%2F%5BvcType%5D&absolutePagePath=private-next-pages%2Fissue%2F%5BvcType%5D.js!"],"names":[],"mappings":";;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoI;AACN;AACoB;AAC1B;AACkC;AACtB;AACpI,YAAY,4CAAK;;AAEjB,gCAAgC,6DAA6D,yCAAyC,aAAa,4JAAe,kBAAkB,iCAAiC,iBAAiB,4JAAe,mBAAmB,yDAAyD,EAAE,OAAO,uCAAuC,EAAE,QAAQ,uKAA0B,eAAe,GAAG;;AAEva,sCAAsC,wEAAwE,0CAA0C,8CAA8C,MAAM,wEAAwE,GAAG,aAAa,EAAE,YAAY,cAAc,EAAE;;AAExS;AACG;AACY;AACH;AACO;AACI;AACA;AACV;;AAEvC,cAAc,mBAAO,CAAC,MAAkB;;AAExC,gBAAgB,mBAAO,CAAC,MAAkB;;AAEQ;AACC;AACL;AACb;;AAEjC;AACA,EAAE,sJAAS;;AAEX;;AAEA;AACA;;AAEA,IAAI,4JAAe;;AAEnB;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,mKAAsB;AACjE;AACA;;AAEA,EAAE,yJAAY;AACd;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,yEAAyE,0EAAQ;AACjF;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;;AAEA,iCAAiC,0EAAQ;AACzC;AACA,0CAA0C;AAC1C;;AAEA,UAAU,kDAAM;AAChB;;AAEA;AACA;AACA,4CAA4C,qEAAQ;AACpD;AACA;AACA;AACA;AACA,WAAW,SAAS,gEAAG;AACvB;AACA;AACA,WAAW;AACX;;AAEA;AACA;AACA;AACA,WAAW;AACX;;AAEA,qBAAqB,mEAAM,cAAc,gEAAG,cAAc,gEAAG,cAAc,oEAAS;AACpF;AACA;AACA,SAAS,mBAAmB,gEAAG;AAC/B;AACA;AACA;AACA;AACA,SAAS,QAAQ,gDAAI;AACrB;AACA,SAAS,QAAQ,gEAAM;AACvB;AACA;AACA,SAAS;AACT,OAAO;AACP,qBAAqB,mEAAM;AAC3B;AACA,SAAS;AACT;AACA;AACA,GAAG;;AAEH;AACA,CAAC,CAAC,4CAAK;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,2EAAmB;AAClC;AACA;AACA;;AAEe,6HAAU,CAAC,mEAAO,6CAA6C,E;;;;;;;;AC7K9E;AACA;AACA;AACA,eAAe,mBAAO,CAAC,MAAsC;AAC7D;AACA","file":"x","sourcesContent":["import _classCallCheck from \"/home/ni/code/js/seal-issuer/node_modules/next/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/ni/code/js/seal-issuer/node_modules/next/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/home/ni/code/js/seal-issuer/node_modules/next/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/ni/code/js/seal-issuer/node_modules/next/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/home/ni/code/js/seal-issuer/node_modules/next/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/ni/code/js/seal-issuer/node_modules/next/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from \"react\";\nimport Link from \"next/link\";\nimport { withRouter } from \"next/router\";\nimport { connect } from \"react-redux\";\nimport Layout from \"../../components/Layout\";\nimport QrPrompt from \"../../components/QrPrompt\";\nimport MyStepper from \"../../components/Stepper\";\nimport SSE from \"../../components/Sse\";\n\nvar message = require(\"uport-transports\").message.util;\n\nvar transport = require(\"uport-transports\").transport;\n\nimport { requestVCgeneration } from \"../../store\";\nimport { Button, Row, Col } from \"react-bootstrap\";\nimport isMobile from \"../../helpers/isMobile\";\nimport Router from \"next/router\";\n\nvar Issue = /*#__PURE__*/function (_React$Component) {\n  _inherits(Issue, _React$Component);\n\n  var _super = _createSuper(Issue);\n\n  function Issue(props) {\n    var _this;\n\n    _classCallCheck(this, Issue);\n\n    _this = _super.call(this, props);\n    _this.dispatch = props.dispatch;\n    _this.isFetching = props.isFetching;\n    _this.sessionData = props.sessionData;\n    _this.userSelection = props.userSelection;\n    _this.endpoint = props.endpoint;\n    _this.requestVC = _this.requestVC.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Issue, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.userSelection.length > 0) {\n        this.requestVC();\n      }\n    }\n  }, {\n    key: \"requestVC\",\n    value: function requestVC() {\n      var vcType = this.props.router.query.vcType;\n      console.log(\"will request the creation of a requestVC\");\n      console.log(\"[vcType.js] :: the pathi is \".concat(vcType));\n      var url = this.props.baseUrl ? \"\".concat(this.props.baseUrl, \"issueVCReq\") : \"/issueVCReq\";\n      this.props.makeIssueRequest(url, this.props.userSelection, vcType, isMobile());\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var result;\n\n      if (this.props.userSelection.length > 0) {\n        if (this.props.vcSent) {\n          result = __jsx(\"div\", {\n            className: \"row\"\n          }, __jsx(\"div\", {\n            className: \"col\",\n            style: {\n              marginTop: \"3rem\",\n              marginBottom: \"3rem\",\n              textAlign: \"center\"\n            }\n          }, __jsx(\"img\", {\n            alt: \"\",\n            src: \"/finished.png\",\n            style: {\n              maxWidth: \"15rem\",\n              display: \"block\",\n              marginLeft: \"auto\",\n              marginRight: \"auto\"\n            }\n          }), __jsx(\"p\", null, \"The verifiable credential has been sent to your mobile phone succesfully!!\", __jsx(\"br\", null), \"You should receive a notification, prompting you to store it, very soon!\")));\n        }\n\n        if (this.props.qrData && isMobile()) {\n          var urlTransport = transport.url.send();\n          urlTransport(this.props.qrData); //TODO maybe add a check here with SSE if the\n          // user received the VC?\n\n          Router.push(\"\".concat(this.props.baseUrl));\n        }\n\n        if (this.props.qrData && !this.props.vcSent) {\n          var sseEndpoint = this.props.baseUrl ? \"\".concat(this.props.endpoint, \"/\").concat(this.props.baseUrl) : this.props.endpoint;\n          result = __jsx(\"div\", null, __jsx(QrPrompt, {\n            qrData: this.props.qrData,\n            message: \"SEAL is requesting to connect your uPort wallet:\",\n            permissions: [\"Push Notifications\"],\n            baseUrl: this.props.baseUrl\n          }), __jsx(SSE, {\n            uuid: this.props.uuid,\n            endpoint: sseEndpoint\n          }));\n        }\n\n        if (this.props.isFetching && !this.props.qrData && !this.props.vcSent) {\n          result = __jsx(\"div\", {\n            className: \"row\"\n          }, \"Generating QR code please wait\");\n        }\n\n        return __jsx(Layout, null, __jsx(Row, null, __jsx(Col, null, __jsx(MyStepper, {\n          steps: this.props.stepperSteps,\n          activeNum: this.props.stepperSteps.length - 1\n        }))), result, __jsx(Row, null, __jsx(\"div\", {\n          className: \"col\",\n          style: {\n            marginTop: \"1.5rem\"\n          }\n        }, __jsx(Link, {\n          href: this.props.baseUrl ? \"\".concat(this.props.baseUrl) : \"/\"\n        }, __jsx(Button, {\n          variant: \"primary\",\n          className: \"float-right\"\n        }, \"Home\")))));\n      } else {\n        return __jsx(Layout, null, __jsx(\"div\", {\n          className: \"row\"\n        }, \"user made no selections!\"));\n      }\n    }\n  }]);\n\n  return Issue;\n}(React.Component);\n\nfunction mapStateToProps(state) {\n  console.log(\"issue.js:: mapping state to props\");\n  console.log(state);\n  return {\n    isFetching: state.fetching,\n    qrData: state.qrData,\n    uuid: state.uuid,\n    // userEidas: state.userEidas, // the eIDAS attributes of the user\n    // userEduGain: state.userEduGain, // the eduGain attributes of the user\n    sessionData: state.sessionData,\n    userSelection: state.userSelection,\n    // the attributes selected by the user to be included in a VC,\n    vcSent: state.vcSent,\n    stepperSteps: state.stepperSteps,\n    endpoint: state.endpoint,\n    baseUrl: state.baseUrl\n  };\n}\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    makeIssueRequest: function makeIssueRequest(url, data, vcType) {\n      var isMobile = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      dispatch(requestVCgeneration(url, data, vcType, isMobile));\n    }\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Issue));","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/issue/[vcType]\",\n      function () {\n        return require(\"private-next-pages/issue/[vcType].js\");\n      }\n    ]);\n  "]}}